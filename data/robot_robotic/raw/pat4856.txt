There are provided a method and apparatus for determining a geomagnetic field by using a compass and a method and apparatus for determining an azimuth angle of a moving object using the method and apparatus for determining a geomagnetic field. The method of determining a geomagnetic field by using a compass includes defining an allowable magnetic field range used to determine a valid geomagnetic region; calculating a magnitude of a magnetic field in a geomagnetic-field validity test region by using a compass; and if the magnitude of the magnetic field is within the allowable magnetic field range, determining that the geomagnetic-field validity test region is the valid geomagnetic region, and if not, determining that there is applied an external magnetic field disturbance. Accordingly, since an error of an azimuth angle of the compass due to an external magnetic field disturbance can be determined, it is possible to accurately detect a valid azimuth angle of the compass. In addition, since an allowable magnetic field range is determined based on a variation of magnetic field detected by a compass rather than a conventional method that simply compares a magnetic field and a geomagnetic field, it is possible to accurately determine the geomagnetic field.
Claims What is claimed is: 1. A method of determining a geomagnetic field by using a compass, comprising: defining an allowable magnetic field range used to determine a valid geomagnetic region; calculating a magnitude of a magnetic field in a geomagnetic-field validity test region by using a compass; and if the magnitude of the magnetic field is within the allowable magnetic field range, determining that the geomagnetic-field validity test region is the valid geomagnetic region, and if not, determining that there is applied an external magnetic field disturbance. 2. The method according to claim 1, wherein the defining of the allowable magnetic field range comprises: (a1) detecting time trajectory of horizontal and vertical components of the magnetic field in a predetermined geomagnetic region while the compass rotates; (a2) calculating amplitudes (Ax, Ay) and offsets (Ox, Oy) of a geomagnetic field by using maximum and minimum values of time trajectory of the horizontal and vertical components in the magnetic field; (a3) if the magnetic field curve has an approximately sinusoidal wave form, selecting a current position of the compass as a candidate position used to define the allowable magnetic-field range, and if not, changing the position of the compass to perform the operations (a1) to (a3); (a4) generating a candidate position group having a predetermined number of candidate positions by repeating the operations (a1) to (a3); (a5) calculating mean and variance values of the amplitudes and offsets of the geomagnetic fields at the candidate positions of the candidate position group; and (a6) obtaining the allowable magnetic-field range by calculating upper and lower limits of the magnitudes of the geomagnetic fields from the amplitudes and offsets. 3. The method according to claim 2, wherein the operation (a4) further comprises comparing the amplitudes and offsets of the geomagnetic fields among the candidate positions and eliminating candidate positions having more than predetermined amplitudes and offsets from the candidate position group. 4. The method according to claim 3, wherein the upper and lower limits of the geomagnetic fields of the operation (a6) are obtained by calculating the magnitude |H| of the magnetic field from the horizontal and vertical components Hx and Hy of the magnetic field, the amplitudes Ax and Ay, and the offsets Ox and Oy by using Equation 3: .times..times..times..times. ##EQU00023## wherein |H.sub.E| is a magnitude of the geomagnetic field; representing the magnitude |H| with errors .DELTA.Ax and .DELTA.Ay between the amplitudes Ax and Ay and real amplitudes Ax and Ay in a real geomagnetic region by using Equation 4: .DELTA..times..times..times..DELTA..times..times..times..times..times. ##EQU00024## wherein the errors .DELTA.Ax and .DELTA.Ay have ranges represented by Equations 5 and 6, respectively: -.gamma.A.sub.x.ltoreq..DELTA.A.sub.x.ltoreq..gamma.A.sub.x [Equation 5] -.gamma.A.sub.y.ltoreq..DELTA.A.sub.y.ltoreq..gamma.A.sub.y [Equation 6] wherein .gamma. is a constant associated with allowable limits of the real amplitudes Ax and Ay and has a value of 0 to 1; obtaining the allowable magnetic-field range represented by Equation 7 by using Equations 4, 5, and 6; .gamma..times..times..times..ltoreq..ltoreq..gamma..times..times..times..- times..times. ##EQU00025## obtaining the allowable magnetic-field range represented by Equation 8 from Equation 7, .gamma..times..ltoreq..ltoreq..gamma..times..times..times. ##EQU00026## 5. The method according to claim 1, wherein the defining of the allowable magnetic-field range is performed at a time of manufacturing the compass. 6. A computer-readable recording medium storing a program executed by a computer, the program implementing a method according to claim 1. 7. A method of determining a geomagnetic field by using at least two compasses, comprising: (a) defining at least two allowable magnetic field ranges used to determine a valid geomagnetic region for the at least two compasses; (b) calculating a magnitude of a magnetic field in a geomagnetic-field validity test region by using the at least two compasses; and (c) if the magnitude of the magnetic field is within the at least two allowable magnetic field ranges, determining that the geomagnetic-field validity test region is the valid geomagnetic region, and if not, determining that there is applied an external magnetic field disturbance. 8. The method according to claim 7, wherein two compasses are used, and wherein the operation (c) comprises: (c1) if the magnitude of the magnetic field is not within one of the two allowable magnetic field ranges, determining that there is applied the external magnetic field disturbance; and (c2) if the magnitude of the magnetic field is within both of the allowable magnetic field ranges, calculating a difference between magnitudes of magnetic fields detected by the two compasses, and if the difference is more than a predetermined value, determining that the geomagnetic fields of the compasses are not valid, and if not, determining that the geomagnetic fields of the compasses are valid. 9. The method according to claim 7, wherein the operation (c2) comprises: (c2-1) if the magnitude of the magnetic field is within both of the allowable magnetic field ranges, calculating a difference between magnitudes of magnetic fields detected by the two compasses, and if the difference is more than a predetermined value, determining that the geomagnetic fields of the compasses are not valid; (c2-2) if the difference is not more than the predetermined value, calculating upper and lower limits of azimuth angles of the two compasses from data of the magnetic field detected by the two compasses; and (c2-3) determining whether or not the azimuth angles of the two compasses are valid by using upper and lower limits of the azimuth angles of the two compasses. 10. The method according to claim 9, wherein the upper and lower limits of the two compasses are obtained by: calculating the azimuth angles of the compasses from the magnetic fields detected by the two compasses by using Equation 8: .theta..function..function..function..times..times. ##EQU00027## wherein i indicates the two compasses and is 1 and 2; if a compass-installed object or robot is located in a valid geomagnetic region, obtaining upper and lower limits of ratios of real amplitudes in the geomagnetic region represented by Equation 13: .gamma..gamma..times..ltoreq..ltoreq..gamma..gamma..times..times..times. ##EQU00028## when constants .beta..sub.i and {circumflex over (.beta.)}.sub.i are defined by Equation 14: .beta..ident..function..function..beta..ident..function..function..times.- .times. ##EQU00029## if H.sub.xi-O.sub.xi<0,H.sub.yi-O.sub.yi<0 and H.sub.xi-O.sub.xi>0,H.sub.yi-O.sub.yi>0, obtaining a real azimuth angle range represented by Equation 17: .function..gamma..gamma..times..beta..ltoreq..theta..ltoreq..function..ga- mma..gamma..times..beta..times..times. ##EQU00030## if H.sub.xi-O.sub.xi<0,H.sub.yi-O.sub.yi>0 and H.sub.xi-O.sub.xi>0,H.sub.yi-O.sub.yi<0, obtaining another real azimuth angle ranges represented by Equation 19: .function..gamma..gamma..times..beta..ltoreq..theta..ltoreq..function..ga- mma..gamma..times..beta..times..times. ##EQU00031## representing the real azimuth angle ranges of Equations 17 and 29 by using Equation 20: .theta..sub.CLi.ltoreq.{circumflex over (.theta.)}.sub.ci.ltoreq..theta..sub.CUi. [Equation 20] 11. The method according to claim 10, wherein, in the operation (c2-3), if the two real azimuth angle ranges represented by Equation 20 are not overlapped, the geomagnetic fields detected by the compasses are determined not to be valid, and if not, the geomagnetic fields detected by the compasses are determined to be valid. 12. A method of determining an azimuth angle of an object by using two compasses, comprising: when geomagnetic fields detected by the two compasses are determined to be valid according to claim 11, detecting the azimuth angles by using the two compasses; and determining a final azimuth angle of the compasses by averaging the azimuth angles. 13. A computer-readable recording medium storing a program executed by a computer, the program implementing a method according to claim 12. 14. A method of determining an azimuth angle of an object by using two compasses, comprising: when geomagnetic fields detected by the compasses are determined to be valid according to claim 11, detecting the orientation angle of the object by using a gyro or odometer; and determining a final azimuth angle of the compasses from a value closest to the orientation angle of the object, wherein the final azimuth angle is determined from the value closest to the orientation angle of the object by: defining the approximate value {overscore (.theta.)} represented by Equation 21: {overscore (.theta.)}.ident..theta..sub.c(t.sub.k-1)+(.omega..sub.g+{circumflex over (b)}).DELTA.t, [Equation 21] wherein .theta..sub.c(t.sub.k-1) is an estimated azimuth angle of the compass or an estimated orientation angle of the object at a previous sampling time, .omega..sub.g is an angular velocity detected by a gyro or odometer, {circumflex over (b)} is an estimated bias of the gyro, and .DELTA.t is a sampling time; and when the two real azimuth angle ranges represented by Equation 20 are overlapped, .theta..sub.CLi.ltoreq.{circumflex over (.theta.)}.sub.ci.ltoreq..theta..sub.CUi (.theta..sub.CL1<.theta..sub.CL2, .theta..sub.CU1<.theta..sub.CU2), [Equation 20] selecting {overscore (.theta.)} as the final azimuth angle of the compass, if the approximate value {overscore (.theta.)} is within the overlapped range (.theta..sub.CL2, .theta..sub.CU1), (.theta..sub.CL2<{overscore (.theta.)}<.theta..sub.CU1); selecting .theta..sub.CL2 as the final azimuth angle of the compass, if the approximate value {overscore (.theta.)} is within a range (.theta..sub.CL1, .theta..sub.CL2), (.theta..sub.CL1<{overscore (.theta.)}<.theta..sub.CL2); and selecting .theta..sub.CU1 as the final azimuth angle of the compass, if the approximate value {overscore (.theta.)} is within a range (.theta..sub.CU1, .theta..sub.CU2), (.theta..sub.CU1<{overscore (.theta.)}<.theta..sub.CU2). 15. A computer-readable recording medium storing a program executed by a computer, the program implementing a method according to claim 7. 16. An apparatus for determining a geomagnetic field by using a compass, comprising: an allowable magnetic field range definition unit defining an allowable magnetic field range used to determine a valid geomagnetic region; a magnetic field calculation unit calculating a magnitude of a magnetic field at a position of a compass-installed moving object; a magnetic field comparison unit comparing the magnitude of the magnetic field to determine where or not the magnetic field is within the allowable magnetic field range; and a geomagnetic region determination unit, if the magnitude of the magnetic field is within the allowable magnetic field range, determining the position of a compass-installed moving object is within the valid geomagnetic region, and if not, determining that there is applied an external magnetic field disturbance at the position of a compass-installed moving object. 17. The apparatus according to claim 16, wherein the allowable magnetic field range definition unit comprises: a magnetic field detection unit detecting time trajectory of horizontal and vertical components (Hx, Hy) of the magnetic field in a predetermined geomagnetic region while the compass rotates, and calculating amplitudes and offsets of a geomagnetic field by using maximum and minimum values of the horizontal and vertical components of the magnetic field; a candidate position group generation unit, if the time trajectory of magnetic field has an approximately sinusoidal wave form, selecting a current position of the compass as a candidate position used to define the allowable magnetic-field range, and if not, changing the position of the compass to perform the detection of the magnetic field detection unit and the selection of the candidate position determination unit, and generating a candidate position group having a predetermined number of candidate positions; and an allowable magnetic field range obtaining unit obtaining the allowable magnetic-field range by calculating mean and variance values of the amplitudes and offsets of the geomagnetic fields at the candidate positions of the candidate position group; and calculating upper and lower limits of the magnitudes of the geomagnetic fields from the amplitudes and offsets. 18. The apparatus according to claim 17, wherein the candidate position group generation unit further comprises a candidate position elimination unit comparing the amplitudes and offsets of the geomagnetic fields at the candidate positions and eliminating candidate positions having more than predetermined amplitudes and offsets from the candidate position group. 19. The apparatus according to claim 16, wherein the allowable magnetic field range definition unit defines at least two allowable magnetic field ranges for at least two compasses used to determine a valid geomagnetic region; wherein the geomagnetic region determination unit, if the magnitude of the magnetic field is within the at least two allowable magnetic field ranges, determines that the position of a compass-installed moving object is within the valid geomagnetic region, and if not, determines that there is applied an external magnetic field disturbance at the position of a compass-installed moving object. 20. The apparatus according to claim 19, wherein two compasses are used, and wherein the geomagnetic region determination unit comprises: a first determination unit, if the magnitude of the magnetic field is not within one of the two allowable magnetic field ranges, determining that there is applied the external magnetic field disturbance at the position of the moving object; and a first validity determination unit, if the magnitude of the magnetic field is within both of the allowable magnetic field ranges, calculating a difference between magnitudes of magnetic fields detected by the two compasses, and if the difference is more than a predetermined value, determining that the geomagnetic fields of the compasses are not valid, and if not, determining that the geomagnetic fields of the compasses are valid. 21. The apparatus according to claim 20, wherein the first validity determination unit comprises: a second determination unit, if the magnitude of the magnetic field is within both of the allowable magnetic field ranges, calculating a difference between magnitudes of magnetic fields detected by the two compasses, and if the difference is more than a predetermined value, determining that the geomagnetic fields of the compasses are not valid; and a second validity determination unit, if the difference is not more than the predetermined value, calculating upper and lower limits of azimuth angles of the two compasses from data of the magnetic field detected by the two compasses, and determining whether or not the azimuth angles of the two compasses are valid by using upper and lower limits of the azimuth angles of the two compasses. 22. The apparatus according to claim 21, wherein the second validity determination unit comprises: a third determination unit, if two azimuth angle ranges of the two compasses are not overlapped, determining that the geomagnetic fields detected by the compasses are not valid; and a third validity determination unit, if two azimuth angle ranges of the two compasses are overlapped, determining that the geomagnetic fields detected by the compasses are valid. 23. The apparatus according to claim 16, wherein the apparatus further comprises a moving direction estimation unit estimating a moving direction of the moving object by using the azimuth angles detected by the compasses based on the result of the determination of the geomagnetic region determination unit. 24. An apparatus for determining an azimuth angle of an object by using two compasses, comprising: an azimuth angle detection unit, when geomagnetic fields detected by the two compasses are determined to be valid according to claim 16, detecting the azimuth angles by using the two compasses; and an azimuth angle determination unit determining a final azimuth angle of the compasses by averaging the azimuth angles. 25. An apparatus for determining an azimuth angle of an object by using two compasses, comprising: an orientation angle detection unit, when geomagnetic fields detected by the two compasses are determined to be valid according to claim 16, detecting the orientation angle of the object by using a gyro or odometer; and an 2nd azimuth angle determination unit determining a final azimuth angle of the compasses from a value closest to the orientation angle of the object, wherein the final azimuth angle is determined from the value closest to the orientation angle of the object by: defining the approximate value {overscore (.theta.)} represented by Equation 21: {overscore (.theta.)}.ident..theta..sub.c(t.sub.k-1)+(.omega..sub.g+{overscore (b)}).DELTA.t, [Equation 21] wherein .theta..sub.c(t.sub.k-1) is an estimated azimuth angle of the compass or an estimated orientation angle of the object at a previous sampling time, .omega..sub.g is an angular velocity detected by a gyro or odometer, {overscore (b)} is an estimated bias of the gyro, and .DELTA.t is a sampling time; and when the two real azimuth angle ranges represented by Equation 20 are overlapped, .theta..sub.CLi.ltoreq.{circumflex over (.theta.)}.sub.ci.ltoreq..theta..sub.CUi(.theta..sub.CL1<.theta..sub.C- L2,.theta..sub.CU1<.theta..sub.CU2) [Equation 20] selecting {overscore (.theta.)} as the final azimuth angle of the compass, if the approximate value {overscore (.theta.)} is within the overlapped range (.theta..sub.CL2, .theta..sub.CU1), (.theta..sub.CL2<{overscore (.theta.)}<.theta..sub.CU2); selecting .theta..sub.CL2 as the final azimuth angle of the compass, if the approximate value {overscore (.theta.)} is within a range (.theta..sub.CL1, .theta..sub.CL2), (.theta..sub.CL1<{overscore (.theta.)}<.theta..sub.CL2); and selecting .theta..sub.CU1 as the final azimuth angle of the compass, if the approximate value {overscore (.theta.)} is within a range (.theta..sub.CU1, .theta..sub.CU2), (.theta..sub.CU1<{overscore (.theta.)}<.theta..sub.CU2). 