A force feedback interface including a haptic accelerator that relieves the computational burden associated with force feedback generation from a force feedback processor. The force feedback processor is preferably a device microprocessor included in the interface device and separate from a controlling host computer for determining forces to be output. The haptic accelerator quickly determines velocity and/or acceleration information describing motion of a user manipulatable object from raw position data received from sensors of the interface device and representing the position of the user object. The velocity and/or acceleration data is used by the force feedback processor in the determination of forces to be output on the user object. The haptic accelerator can in some embodiments also quickly and reliably determine condition forces which depend on the motion of the user object, thus relieving additional computation burden from the force feedback processor and permitting the force feedback processor to focus on determining other types of forces and overseeing the operation of the force feedback interface device.
Claims What is claimed is: 1. A control system for a force feedback interface device used in providing force sensations to a user interfacing with an application program and with visual images displayed by a display device in accordance with said application program and in accordance with manipulations of said force feedback interface device by said user, the control system comprising: a force feedback processor for determining output force commands for commanding forces to be applied on a user manipulatable object grasped by a user, said forces being applied by at least one actuator coupled to said force feedback processor and to said user manipulatable object, wherein said force feedback processor determines time-based forces, said time-based forces being output to said actuator; and a haptic accelerator coupled to at least one sensor of said force feedback interface device and separate from said force feedback processor, said haptic accelerator receiving raw sensor data from said at least one sensor and providing processed data from said raw sensor data, said haptic accelerator performing fast processing of said raw sensor data into said processed data, said processed data including position data representing a current position of said user object in at least one degree of freedom and velocity data representing a current velocity of said user object in at least one degree of freedom, said processed data being sent to said force feedback processor to be used in said determination of output forces on said user manipulatable object, and wherein said haptic accelerator includes a haptic processing unit for determining motion-based forces, said motion-based forces being output from said haptic processing unit to said actuator. 2. A control system as recited in claim 1 wherein said processed data includes acceleration data representing a current acceleration of said user manipulatable object in at least one degree of freedom. 3. A control system as recited in claim 1 wherein said sensor is a digital optical encoder providing two raw sensor signals, and wherein said haptic accelerator determines a position of said user object and a direction of said user manipulatable object in said degree of freedom using said two raw sensor signals. 4. A control system as recited in claim 3 wherein said haptic accelerator includes a quadrature module for determining said position data using said two raw sensor signals, said position data describing a position of said user manipulatable object. 5. A control system as recited in claim 4 wherein said haptic accelerator includes a motion processing module having a counter for counting a time interval between raw signals from said digital optical encoder such that said haptic accelerator may provide said velocity of said user manipulatable object. 6. A control system as recited in claim 4 wherein said haptic accelerator includes a motion processing module having a counter for counting a time interval between raw signals from said digital optical encoder such that said haptic accelerator may provide an acceleration of said user manipulatable object. 7. A control system as recited in claim 6 wherein said haptic accelerator includes a plurality of latches for storing said time interval and a previous time interval such that said haptic accelerator may provide said acceleration of said user manipulatable object. 8. A control system as recited in claim 7 wherein said haptic accelerator includes fault prevention logic for detecting errors and invalid signals from said sensor. 9. A control system as recited in claim 8 wherein said haptic accelerator includes a filter for rejecting spurious raw sensor signals. 10. A control system as recited in claim 1 wherein said application program is executed by a host computer system coupled to said force feedback interface device, and wherein said force feedback processor is a device microprocessor separate from said host computer system and local to said force feedback interface device. 11. A control system as recited in claim 1 wherein said application program is executed by a host computer system coupled to said force feedback interface device, and wherein said force feedback processor is a microprocessor included in said host computer system. 12. A control system as recited in claim 1 wherein said haptic accelerator includes a parameter storage register for storing parameters received from said device microprocessor, said parameters modifying said motion-based forces determined by said haptic processing unit. 13. A control system as recited in claim 12 wherein said parameters include at least one of a spring constant, a damping constant, and a simulated mass constant. 14. A control system as recited in claim 12 wherein said haptic accelerator includes a quadrature module for determining said position data from said raw sensor signals, and wherein said haptic accelerator further includes a multiplexer for multiplexing said position data with said velocity data. 15. A control system as recited in claim 1 wherein said user manipulatable object is one of a mouse and a joystick. 16. A control system as recited in claim 15 wherein said haptic accelerator is provided on a portion of silicon and said force feedback processor is provided on said portion of silicon. 17. A force feedback interface device for use with a host computer displaying a graphical simulation on a display device, said host computer displaying and updating said graphical simulation in response to user manipulation of said interface device and commanding force feedback sensations in response to said user manipulation and in coordination with events within said graphical simulation, the interface device comprising: a user manipulatable object graspable by said user and movable in a degree of freedom; an actuator for outputting a force on said user manipulatable object; a sensor for outputting a raw sensor signal indicative of a position of said user manipulatable object in said degree of freedom; a device microprocessor separate from said host computer and coupled to said host computer and to said actuator, said device microprocessor receiving high-level host commands from said host computer and determining forces in response to said high-level commands, said microprocessor causing said determined forces to be output by said actuator; and a haptic accelerator separate from said device microprocessor that receives said raw sensor signals and outputs processed signals derived from said raw sensor signals, said processed signals being sent to and used, at least in part, by said device microprocessor for determining said forces. 18. A force feedback interface device as recited in claim 17 wherein said processed signals provided by said haptic accelerator include position signals indicating a position of said user manipulatable object in said degree of freedom and at least one velocity signal. 19. A force feedback interface device as recited in claim 18 wherein said processed signals provided by said haptic accelerator include acceleration signals indicating an acceleration of said user manipulatable object in said degree of freedom. 20. A force feedback interface device as recited in claim 18 wherein said sensor is a digital optical encoder providing two raw sensor signals, and wherein said haptic accelerator determines a position of said user manipulatable object and a direction of said user manipulatable object in said degree of freedom using said two raw sensor signals. 21. A force feedback interface device as recited in claim 18 wherein said haptic accelerator includes a quadrature module for determining said position signals using said two raw sensor signals, said position signals describing a position of said user manipulatable object. 22. A force feedback interface device as recited in claim 21 wherein said haptic accelerator includes a motion processing module having a counter for counting a time interval between raw signals from said digital optical encoder such that said haptic accelerator may provide said at least one velocity signal. 23. A force feedback interface device as recited in claim 22 wherein said motion processing module includes a plurality of latches for storing said time interval and a previous time interval such that said haptic accelerator may provide acceleration signals. 24. A force feedback interface device as recited in claim 22 wherein said device microprocessor determines time-varying effect forces, and wherein said haptic accelerator includes a haptic processing unit for determining condition forces, said condition forces being output from said haptic processing unit to said actuator. 25. A force feedback interface device as recited in claim 24 wherein said condition forces include a restoring spring force, a damping force, and an inertia force. 26. A force feedback interface device as recited in claim 25 wherein said time-varying effect forces include a vibration and a force jolt. 27. A force feedback interface device as recited in claim 26 wherein said haptic accelerator includes a parameter storage register for storing parameters received from said device microprocessor, said parameters modifying said condition forces determined by said haptic processing unit. 28. A force feedback interface device as recited in claim 27 wherein said parameters may include a spring constant, a damping constant, and a simulated mass constant. 29. A force feedback interface device as recited in claim 24 wherein said haptic accelerator includes fault prevention logic for detecting errors and invalid signals from said sensor. 30. A force feedback interface device as recited in claim 27 wherein said haptic accelerator includes a filter for rejecting spurious raw sensor signals. 31. A force feedback interface device as recited in claim 27 wherein said haptic accelerator further includes a multiplexer for multiplexing said position signals with said velocity signals. 32. A force feedback interface device as recited in claim 17 wherein said actuator includes a brushless DC motor, wherein said microprocessor controls said brushless DC motor using sinusoidal commutation. 33. A force feedback interface device as recited in claim 17 wherein said actuator includes a brushless DC motor, wherein said haptic accelerator controls said brushless DC motor using sinusoidal commutation. 34. A force feedback interface device as recited in claim 24 wherein said haptic processing unit includes a summing node for summing different condition forces determined substantially simultaneously by said haptic processing unit and outputting said summed condition force to said actuator. 35. A force feedback interface device as recited in claim 24 wherein said device microprocessor outputs said time-varying effect forces to said haptic processing unit, and wherein said haptic processing unit includes a summing node for summing said time-varying effect forces determined by said microprocessor with said condition forces determined by said haptic processing unit and outputting said summed forces to said actuator. 36. A force feedback interface device as recited in claim 24 wherein said user manipulatable object is one of a mouse and a joystick. 37. A haptic accelerator used in a force feedback interface device coupled to a host computer system, said haptic accelerator being separate from a force feedback processor and offloading computational burden from said force feedback processor, said haptic accelerator comprising: a position module that receives raw sensor signals from a sensor, said position module utilizing a counter to provide position signals from said raw sensor signals, said position signals representing a position of a user manipulatable object in at least one degree of freedom a velocity processing module that receives said raw sensor signals from said sensor, said velocity processing module utilizing a timer to count the time that has elapsed between pulses in said raw sensor signals and to generate velocity representative signals based on said time, said velocity representative signals being provided to said force feedback processor to be used in a determination of forces by said force feedback processor; and a haptic processing unit coupled to said position module and said velocity processing module, said haptic processing unit receiving said position signals and said velocity representative signals and determining force values using at least one of said position signals and said velocity representative signals, said force values being output from said haptic processing unit to cause an actuator of said force feedback interface device to apply forces to said user manipulatable object. 38. A haptic accelerator as recited in claim 37 further comprising a filter coupled to said sensor, said filter rejecting spurious raw sensor signals from said sensor and providing filtered raw sensor signals to said position module and to said velocity processing module. 39. A haptic accelerator as recited in claim 37 wherein said force values are condition force values for causing said actuator to output condition forces on said user manipulatable object, said condition forces being dependent on a position or velocity of said user manipulatable object. 40. A haptic accelerator as recited in claim 37 further comprising a parameter storage register coupled to said haptic processing unit and to said force feedback processor, said parameter storage register being operative to receive parameters from said force feedback processor and allow said haptic processing unit to retrieve said parameters, said parameters affecting said determination of said force values under predetermined conditions. 41. A haptic accelerator as recited in claim 37 wherein said velocity processing module includes latches for providing acceleration signals to be used by said haptic processing unit in a determination of acceleration-dependent forces. 42. A haptic accelerator as recited in claim 37 further comprising a pulse width modulation circuit operative to receive said force values from said haptic processing unit and provide said force values to said actuator in pulse width modulated form. 43. A method for providing fast computation of forces for a force feedback interface device, the method comprising: receiving raw sensor signals from a sensor, said raw sensor signals being provided in response to motion of a user manipulatable object in a degree of freedom; determining a position and a velocity of said user manipulatable object using said raw sensor signals, said determining being implemented by a haptic accelerator; determining effect force values describing forces to be applied to said user manipulatable object, said effect force values being determined by a force feedback microprocessor separate from said haptic accelerator and based on a timing signal; determining condition force values using said haptic accelerator, said condition force values being based on at least one of said position and said velocity; and outputting said effect force values and said condition force values to an actuator, said actuator outputting forces on said user manipulable object in response to and based on said effect force values and said condition force values. 44. A method as recited in claim 43 wherein said determining a position and a velocity also includes determining an acceleration of said user manipulatable object using said raw sensor signals. 45. A method as recited in claim 43 wherein said condition force values based on said position are determined simultaneously with said condition force values based on said velocity, and further comprising summing force values based on said position with force values based on said velocity. 46. A method as recited in claim 45 further comprising summing said condition force values with said effect force values provided by said force feedback microprocessor and outputting a resultant summed force value to said actuator. 47. A method for providing smooth force sensations to a user manipulatable object used in a force feedback interface device, said user manipulatable object being grasped by a user, said force feedback interface device being coupled to a host computer executing a program with which said user interacts by manipulating said user manipulatable object, said method comprising: receiving sensor signals from a sensor included in said force feedback interface device; determining force values to be output to a brushless motor included in said force feedback interface device, wherein said sensor signals are used, at least in part, in said determination of force values, and wherein said force values are determined by a device microprocessor local to said force feedback interface device and separate from said host computer, said device microprocessor communicating with a brushless processing unit; and using said brushless processing unit local to said force feedback interface device and separate from said host computer to output force signals equivalent to said force values to said brushless motor using sinusoidal commutation such that said force values are converted into forces applied to said user manipulatable object by said brushless motor operating at stall, said forces being coordinated with events displayed within said program by said host computer coupled to said force feedback interface device. 48. A method as recited in claim 47 wherein said brushless processing unit includes a haptic accelerator and an output stage for providing said force values to said brushless motor, wherein said haptic accelerator receives said sensor signals as raw sensor signals and outputs processed signals derived from said raw sensor signals, said processed signals being used, at least in part, for determining said force values. 49. A method as recited in claim 48 further comprising accessing a sinusoidal lookup table stored in a memory local to said force feedback interface device. 50. A method as recited in claim 47 wherein said force signals output to said brushless motor are output using a plurality of pulse width modulation circuits. 51. A force feedback interface device for use with a host computer displaying a graphical simulation on a display device, said host computer displaying and updating said graphical simulation in response to user manipulation of said interface device and commanding force feedback sensations in response to said user manipulation and in coordination with events within said graphical simulation, the interface device comprising: a user manipulatable object graspable by said user and movable in a degree of freedom; an actuator for outputting a force on said user manipulatable object; an analog position sensor for outputting an analog sensor signal representing an analog position of said user manipulatable object in said degree of freedom; an analog circuit separate from said host computer and operative to receive said analog sensor signal, to compute an analog velocity of said user manipulatable object from said analog position, and to output processed signals derived from said analog sensor signal, said processed signals including representations of said computed velocity; and a device microprocessor separate from said host computer and said analog circuit, said microprocessor coupled to said host computer and to said actuator, said device microprocessor receiving high-level host commands from said host computer and computing forces in response to said high-level commands, said microprocessor outputting said forces to said actuator, said device microprocessor also receiving said analog sensor signal from said analog position sensor and said processed signals from said analog circuit and using said analog position and said analog velocity, at least in part, to determine said forces. 52. A force feedback interface device as recited in claim 51 further comprising an analog to digital converter that receives said analog position from said analog position sensor and receives said analog velocity from said analog circuit and converts said position and said velocity into a digital form for use by said microprocessor. 53. A force feedback interface device for use with a host computer displaying a graphical simulation on a display device, said host computer displaying and updating said graphical simulation in response to user manipulation of said interface device and commanding force feedback sensations in response to said user manipulation and in coordination with events within said graphical simulation, the interface device comprising: object means graspable by said user and movable in a degree of freedom; force means for outputting a force on said object means; sensing means for outputting a raw sensor signal indicative of a position of said object means in said degree of freedom; microprocessor means separate from said host computer and coupled to said host computer and to said force means, said microprocessor means receiving high-level host commands from said host computer and determining forces in response to said high-level commands, said microprocessor means causing said determined forces to be output by said force means; and means separate from said microprocessor means for receiving said raw sensor signals and outputting processed signals derived from said raw sensor signals, said processed signals being sent to and used, at least in part, by said microprocessor means for determining said forces. 54. A force feedback interface device as recited in claim 17 wherein said haptic accelerator is provided on a portion of silicon and said device microprocessor is provided on said portion of silicon. 55. A haptic accelerator as recited in claim 37 wherein said force feedback processor is a microprocessor local to said force feedback interface device and separate from said host computer system. 56. A haptic accelerator as recited in claim 37 wherein a magnitude of said count of said time is inversely proportional to a velocity of said user manipulatable object. 57. A haptic accelerator included in a force feedback interface device coupled to a host computer system, said haptic accelerator being separate from a force feedback processor and said force feedback processor being separate from said host computer, said haptic accelerator offloading computational burden from said force feedback processor, said haptic accelerator comprising: a position module that receives raw sensor signals from a sensor, said position module utilizing a counter to provide position signals from said raw sensor signals, said position signals representing a position of a user manipulatable object in at least one degree of freedom, wherein said position signals are provided to said host computer system; and a velocity processing module that receives said raw sensor signals from said sensor, said velocity processing module utilizing a timer to generate velocity representative signals, said velocity representative signals being provided to said force feedback processor to be used in a determination of forces by said force feedback processor; and a haptic processing circuit coupled to said position module and said velocity processing module, said haptic processing circuit receiving said position signals and said velocity representative signals and determining force values using said position signals and said velocity representative signals, said force values being output from said haptic processing circuit to an actuator of said force feedback interface device to cause said actuator to apply forces to said user manipulatable object. 58. A haptic accelerator as recited in claim 57 wherein said force values are condition force values for causing said actuator to output condition forces on said user manipulatable object, said condition forces being dependent on a position or velocity of said user manipulatable object. 59. A haptic accelerator as recited in claim 57 further comprising a parameter storage register coupled to said haptic processing circuit and to said force feedback processor, said parameter storage register being operative to receive parameters from said force feedback processor, wherein said haptic processing circuit can retrieve said parameters stored in said parameter storage register, said parameters affecting said determination of said force values under predetermined conditions. 60. A haptic accelerator as recited in claim 57 wherein said haptic accelerator includes means for providing acceleration signals to be used by said haptic processing circuit in a determination of acceleration-based forces. 61. A device for use in a system which includes a host computer displaying a graphical environment on a display device, said host computer displaying and updating said graphical environment in response to information derived from a sensor and representative of the manipulation of a manipulatable object graspable by a user, and commanding forces which are applied to said user manipulatable object by an actuator in response to said manipulation and in coordination with events within said graphical environment, the device comprising: a device microprocessor separate from said host computer and receiving high-level host commands and determining said forces in response to said high-level commands, said microprocessor causing said determined forces to be output on said user manipulatable object in communication with said device microprocessor; and a haptic accelerator separate from and coupled to said device microprocessor, said haptic accelerator receiving data indicative of a position of said user manipulatable object in a degree of freedom, wherein said haptic accelerator outputs a processed signal derived from said data, said processed signal being sent to and used, at least in part, by said device microprocessor for determining said forces. 62. A force feedback interface device as recited in claim 61 wherein said processed signal provided by said haptic accelerator includes information indicating said position and includes information indicating a velocity of said user manipulatable object in said degree of freedom. 63. A device as recited in claim 61 further comprising a power amplifier coupled to said device microprocessor, said power amplifier used in said output of said determined forces. 