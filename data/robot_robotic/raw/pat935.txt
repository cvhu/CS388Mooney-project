A system and process for laser scan alignment for vehicle trajectories is provided. A representation of the map surface allows multiple scans to be simultaneously aligned to each other. Laser scans are fit to the template surface, and the template surface is re-estimated based on the fit of the scans. The result is a pose trajectory estimate that drifts less than standard approaches, and is more robust to outliers (such as moving objects) in the laser's field of view.
Claims What is claimed is: 1. A computer-implemented method for laser scan alignment comprising: splitting, by a laser scan alignment computer, an area covered by a plurality of laser scans into a first set of grid cells, the first set of grid cells having a first resolution; estimating, by the laser scan alignment computer, a first template surface representation for the first set of grid cells using original poses of the plurality of laser scans; aligning, by the laser scan alignment computer, each laser scan in the plurality of laser scans to the estimated first template surface representation to provide a first updated pose for each laser scan in the plurality of laser scans; splitting, by the laser scan alignment computer, the area covered by the plurality of laser scans into a second set of grid cells, the second set of grid cells having a second resolution, wherein the second resolution of the second set of grid cells is finer than the first resolution of the first set of grid cells; estimating, by the laser scan alignment computer, a second template surface representation for the second set of grid cells using the first updated poses for the plurality of laser scans; and providing, by the laser scan alignment computer, the estimated second template surface representation to a display as a map of the area covered by the plurality of laser scans. 2. The method of claim 1, wherein the original poses of the plurality of laser scans are determined from wheel encoder information. 3. The method of claim 1, wherein the original poses of the plurality of laser scans are determined by pairwise scan matching. 4. The method of claim 1, further comprising: aligning, by the computer, each laser scan in the plurality of laser scans to the estimated second template surface representation to provide a second updated pose for each laser scan in the plurality of laser scans. 5. The method of claim 1, further comprising: repeating, by the laser scan alignment computer, the aligning, the splitting the area into the second set of grid cells, and the estimating the second template surface representation until the aligned plurality of laser scans substantially converges with the second template surface representation. 6. The method of claim 5, further comprising: simultaneously aligning, by the laser scan alignment computer, the plurality of laser scans to each other to provide a final pose for each laser scan in the plurality of laser scans. 7. The method of claim 1, wherein the aligning is performed in real-time. 8. The method of claim 1, wherein the area covered by the plurality of laser scans is a three-dimensional area. 9. A computer-implemented method for laser scan alignment comprising: splitting, by a laser scan alignment computer, an area covered by a plurality of laser scans into a set of grid cells; estimating, by the laser scan alignment computer, a first template surface representation for the set of grid cells using original poses of the plurality of laser scans, the first template surface representation having a first resolution; aligning, by the laser scan alignment computer, each laser scan in the plurality of laser scans to the estimated first template surface representation to provide a first updated pose for each laser scan in the plurality of laser scans; estimating, by the laser scan alignment computer, a second template surface representation for the set of grid cells using the first updated poses for the plurality of laser scans, the second template surface representation having a second resolution, wherein the second resolution of the second template surface representation is finer than the first resolution of the first template surface representation; aligning, by the laser scan alignment computer, the plurality of laser scans to the second template surface representation to provide a second updated pose for each laser scan in the plurality of laser scans; and providing, by the laser scan alignment computer, the second template surface representation to a display as a map of the area covered by the plurality of laser scans. 10. A system for laser scan alignment comprising: a grid generator configured to split an area covered by a plurality of laser scans into a first set of grid cells, the first set of grid cells having a first resolution, and to split the area covered by the plurality of laser scans into a second set of grid cells, the second set of grid cells having a second resolution, wherein the second resolution of the second set of grid cells is finer than the first resolution of the first set of grid cells; a template surface estimator configured to estimate a first template surface representation for the first set of grid cells using original poses of the plurality of laser scans and to estimate a second template surface representation for a second set of grid cells using updated poses for the plurality of laser scans; and a laser scan aligner configured to align each laser scan in the plurality of laser scans to the estimated first template surface representation to provide the updated pose for each laser scan in the plurality of laser scans. 11. The system of claim 10, wherein the original poses of the plurality of laser scans are determined from wheel encoder information. 12. The system of claim 10, wherein the original poses of the plurality of laser scans are determined by pairwise scan matching. 13. The system of claim 10, wherein the laser scan aligner, the grid generator, and the template surface estimator are further configured to repeat the respective alignment, the split of the area into the second set of grid cells, and the estimation of the second template surface representation until the aligned plurality of laser scans substantially converges with the second template surface representation. 14. The system of claim 13, wherein the laser scan aligner is further configured to simultaneously align the plurality of laser scans to each other to provide a final pose for each laser scan in the plurality of laser scans. 