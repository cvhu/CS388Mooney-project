Disclosed are an articulated hydraulic machine supporting, control system and control method for same. The articulated hydraulic machine has an end effector for performing useful work. The control system is capable of controlling the end effector for automated movement along a preselected trajectory. The control system has a position error correction system to correct discrepancies between an actual end effector trajectory and a desired end effector trajectory. The correction system can employ one or more absolute position signals provided by one or more acceleration sensors supported by one or more movable machine elements. Good trajectory positioning and repeatability can be obtained. A two-joystick controller system is enabled, which can in some cases facilitate the operator's task and enhance their work quality and productivity.
Claims The invention claimed is: 1. A control method for controlling a mechanical arm to perform a desired task, the mechanical arm comprising a support, multiple links, and an end effector, the end effector being a work implement supported by the links for movement relative to the support, multiple joints connecting the multiple links one to another, to the support and to the end effector, each joint being movable to different joint positions to effect relative movement of the members connected by the respective joint, and multiple controllable actuators to effect the joint movements, wherein the method employs a control system, and wherein the method comprises: based upon input from an operator, selecting a virtual kinematics configuration and defining a trajectory in real time; and with the control system, controlling the actuators to move the end effector along the trajectory by: generating an input control vector for each link from a control signal vector outside of a closed negative feedback loop, each input control vector comprising, at each of a series of system-determined time intervals, a reference position for each link according to the selected virtual differential kinematics configuration; adjusting the control signal vector with an error correction vector, if any, supplied through the closed negative feedback loop; generating an output position vector based upon measurements of the actual position of each link at each respective time interval under operation of the actuators according to the adjusted control signal vector; determining a dynamic motion model of the motion of each link of the mechanical arm by relating for each link the elements of the input control vector to the elements of the output position vector to provide time-variable constant coefficients for each time interval, wherein the dynamic motion model incorporates dynamics components including acceleration; updating the error correction vector using the dynamic motion model and differences between measured actual link positions from the output position vector and corresponding reference positions from the input control vector; and transmitting the updated error correction vector in the closed negative feedback control loop for adjustment of the control signal vector. 2. A control method according to claim 1, wherein the time interval comprises a sliding time window. 3. A control method according to claim 2, wherein identifying of the coefficients for the dynamic motion model comprises obtaining a least-square fit of elements of the input control vector to elements of the output position vector. 4. A control method according to claim 2 comprising using the dynamic motion model obtained for a previous time window to identify the time-variable constant coefficients. 5. A control method according to claim 2 wherein the control system comprises a motion control unit for each actuator and the method comprises, as part of the adjusting the control signal vector, supplying each actuator input of the control signal vector as a positive input to a summator for the motion control unit of the respective actuator to generate the desired link motion. 6. A control method according to claim 5 further comprising, as part of the adjusting the control signal vector, subtracting a corresponding error signal of the error correction vector from the positive input to each link summator to diminish the determined motion error. 7. A control method according to claim 1 comprising providing absolute position information regarding at least one movable machine element to the control system to facilitate determination of the end effector position. 8. A control method according to claim 7 wherein the absolute position information comprises absolute position information regarding each movable machine element. 9. A method of operating an excavator comprising a hydraulically actuated mechanical arm, the method comprising controlling the hydraulically actuated mechanical arm by a control method according to claim 1. 10. A hydraulic machine control system for controlling a hydraulically actuated mechanical arm to perform a desired task, the mechanical arm comprising a support, multiple links, and an end effector, the end effector being a work implement supported by the links for movement relative to the support, multiple joints connecting the multiple links one to another, to the support and to the end effector, each joint being movable to different joint positions to effect relative movement of the members connected by the respective joint, and multiple controllable actuators to effect the joint movements, wherein the hydraulic machine control system is configured to control the actuators to move the end effector and comprises: a number of selectable virtual machine kinematics configurations providing end effector trajectory families for performing different tasks; an operator interface comprising operator input devices, the operator interface enabling an operator to select a desired one of the virtual machine kinematics configurations for the movement of the end effector and to define a desired trajectory within the virtual kinematics of the end effector movement in real time to perform the desired task; a joint control system configured to: generate an input control vector for each link from a control signal vector outside of a closed negative feedback loop, each input control vector comprising, at each of a series of system-determined time intervals, a reference position for each link according to the virtual differential kinematics configuration for the desired trajectory; adjust the control signal vector with an error correction vector, if any, supplied through the closed negative feedback loop; and generate an output position vector based upon measurements of the actual position of each link at each respective time interval under operation of the actuators according to the adjusted control signal vector; a dynamic joint model module configured to determine a dynamic motion model of the motion of each link of the mechanical arm by relating for each link the elements of the input control vector to the elements of the output position vector to provide time-variable constant coefficients for each time interval, wherein the dynamic motion model incorporates dynamics components including acceleration; and a position and velocity error corrector configured to update the error correction vector using the dynamic motion model and differences between measured actual link positions from the output position vector and corresponding reference position positions from the input control vector; and wherein the joint control system is configured to apply the error correction vector in the closed negative feedback control loop. 11. A hydraulic machine control system according to claim 10 wherein the time interval comprises a sliding time window. 12. A hydraulic machine control system according to claim 11 wherein the control system comprises a motion control unit for each actuator and the control system is configured to, as part of the adjusting the control signal vector, supply each input signal of the control signal vector as a positive input to a summator for the motion control unit of the respective actuator for each link to generate the desired motion. 13. A hydraulic machine control system according to claim 12 wherein the control system is further configured, as part of the adjusting the control signal vector, to subtract an error signal of the error correction vector from the positive input to each link summator to diminish the determined motion error. 14. An excavator comprising a hydraulic machine control system according to claim 10. 15. A method of controlling a mechanical arm, the method comprising: determining initial control signals; supplying the initial control signals to an actual machine control sub-system that incorporates an error-correction feedback loop and to a virtual machine model outside of the error-correction feedback loop; with the virtual machine model outside of the error-correction feedback loop, determining a reference position vector that results from applying the supplied initial control signals to the virtual machine model; with the actual machine control sub-system that incorporates the error-correction feedback loop: combining the supplied initial control signals with error-correction signals, if any, supplied through the error-correction feedback loop; using the combined control signals to control the mechanical arm; measuring results of using the combined control signals to control the mechanical arm; determining an actual position vector from the measured results; updating the error-correction signals depending on the actual position vector, the reference position vector, and a dynamic motion model of the mechanical arm, wherein for current operating conditions the dynamic motion model reconciles differences between the actual position vector and the reference position vector to provide time-variable coefficients for the dynamic motion model, and wherein the dynamic motion model incorporates dynamics components including acceleration; and supplying the error-correction signals as part of the error-correction feedback loop for combination with initial control signals. 16. The method of claim 15 wherein the determining the initial control signals includes using a differential inverse kinematics model to calculate the initial control signals based upon operator input and a trajectory path for the mechanical arm. 17. The method of claim 15 further comprising, as part of the actual machine control sub-system that incorporates the error-correction feedback loop: updating the dynamic motion model to adjust for discrepancies between results of using the initial control signals to control the virtual machine model and the results of using the combined control signals to control the mechanical arm. 