A method and apparatus for controlling a stepper motor and for force sensing and force control. Stepper motor drive waveforms are provided which are constructed of a sequence of stairsteps, the size and duration thereof being determined as a function of the desired rotational velocity of the stepper motor. Means and a method for accelerating the stepper motor by varying the step size and step duration of the stairsteps in the drive waveform are discussed. Additionally, means and a method are discussed for sensing and controlling the force applied by the stepper motor to a load by way of evaluating the displacement of the actual position of the stepper motor shaft from the commanded or desired position of the shaft. Means and a method for implementing a compliant function in a similar manner are described.
Claims What is claimed is: 1. An apparatus responsive to a commanded-velocity signal for driving a motor for rotation at a rotational velocity which is selected from a range of rotational velocities, wherein the motor is responsive to a drive waveform, the apparatus comprising means responsive to the commanded-velocity signal for generating step size data and step duration data according to the relative position of the selected rotational velocity within the range of rotational velocities, so that data corresponding to smaller step sizes and step durations are generated for lower selected rotational velocities, and so that data corresponding to larger step sizes and step durations are generated for higher selected rotational velocities; and means responsive to the step size data and to the step duration data for generating the drive waveform so that the drive waveform includes a sequence of stair steps, such that each stair step has a designated relative amplitude and duration, wherein the relative amplitudes of the sequence of stair steps emulate points along a sinusoidal-like drive curve which are sequentially spaced apart in phase at a designated regular interval, wherein the magnitude of the designated regular interval is specified by the step size data and the duration of each drive pulse is specified by the step duration data, whereby for lower selected rotational velocities, the drive waveform includes a large number of stair steps, having amplitudes corresponding to closely spaced points on the sinusoidal drive curve, which sequentially define a slowly varying sinusoidal function, and whereby for higher selected rotational velocities, the drive waveform includes a smaller number of drive pulses, having amplitudes emulating more widely-spaced points on the sinusoidal-like drive curve, which sequentially define a more rapidly varying sinusoidal function. 2. The apparatus, as recited in claim 1, wherein the drive pulse sequence generating means includes timer means responsive to the step duration data for generating an enable signal having a duration specified by the step duration data; means responsive to the enable signal and to the step size data for generating a sequence of addresses which are selected from a set of consecutive addresses, each address in the sequence of addresses being incremented from the next address by a quantity proportional to the step size data, wherein each address is generated for the duration of the enable signal; and means responsive to the sequence of addresses for generating at least one stair step in response to each address from the sequence of addresses to form the drive waveform, so that the relative amplitudes of the stair steps in the generated sequence of stair steps emulate sequential points along the sinusoidal-like drive curve which are spaced-apart at a predetermined phase interval, when the sequence of addresses include consecutive addresses from the set of consecutive addresses, and so that the relative amplitudes emulate sequential points along the sinusoidal-like drive curve which are spaced-apart at a first multiple of the predetermined phase interval, when the sequence includes selected addresses from the set of consecutive addresses which are spaced from one another by a second multiple of the increment between consecutive addresses in the set of consecutive addresses. 3. The apparatus, as recited in claim 2, wherein the address sequence generating means includes register means responsive to the enable signal for storing the current address, and an adder means responsive to the current address for incrementing the current address in accordance with the step size data and in response to the enable signal. 4. The apparatus, as recited in claim 2, wherein the step duration data defines a time delay quantity and further wherein the timer means is a programmable timer which can be programmed with the time delay quantity to generate the enable signal. 5. The apparatus, as recited in claim 2, wherein the drive waveform generating means includes phase table means for providing amplitude data for each sequential point which is spaced apart at the preselected phase interval along the sinusoidal-like drive curve, wherein the amplitude data are arranged consecutively, whereby all of the amplitude data within the phase table means are output consecutively in response to sequential application of all of the addresses in the set of consecutive addresses, and whereby selected ones of the amplitude data are output in response to the sequential application of selected addresses from the set of consecutive addresses, wherein the selected addresses are spaced apart from one another by a designated multiple of the increment between the addresses in the set of consecutive addresses; and means for converting the amplitude data into a drive current for application to the stepper motor. 6. The apparatus, as recited in claim 1, wherein the step size and step duration generating means include step table means for converting the commanded velocity signal into stepsize data, wherein the range of rotational velocities are divided into a first predetermined number of subranges with a predetermined step size assigned to each subrange, whereby stepsize data corresponding to the predetermined step size for a particular subrange is output whenever the commanded velocity signal corresponds to a rotational velocity within the particular subrange; and step duration table means for converting the command velocity signal into step duration data, wherein the range of rotational velocities is divided into a second predetermined number of subranges with a predetermined step duration assigned to each subrange, whereby step duration data corresponding to a step duration for a particular subrange are provided whenever the commanded velocity signal corresponds to a rotational velocity within the particular subrange. 7. The apparatus, as recited in claim 1, wherein the command velocity signal designates a sequence of different rotational velocities so that different step size data, corresponding to differently spaced points on the sinusoidal drive curve and different cycle duration data, are provided by the step size and step duration generating means, and further including means for controlling the transition from one stepsize to the next so that the change from step size data, which corresponds to one step size, to step size data which corresponds to a larger step size occurs on a multiple of the larger step size. 8. The apparatus, as recited in claim 1, further responsive to an acceleration command and further including acceleration control means for cooperatively varying the step duration data and the stepsize data so that the step duration is decreased and the step size is increased over time to accelerate the stepper motor from a first rotational velocity to a higher rotational velocity. 9. The apparatus, as recited in claim 2, wherein the apparatus is one of a plurality of individual apparatus in a robotic arm each driving a different stepper motor, and further wherein each stepper motor manipulates a different joint of the robotic arm, so that simultaneous operation of the different stepper motors permits manipulation of the robotic arm in a multi-dimensional space, further including coordinating means for specifying the step duration data among the different stepper motor drive apparatus so that for movement from a first point to a second point, all stepper motors are operational for the duration of the movement, and the stair steps in the drive waveform received by each stepper motor during the movement are evenly distributed throughout the duration of the movement. 10. The apparatus, as recited in claim 1, further including sensor means mounted for rotation to the shaft of the stepper motor for providing an indication of the actual angular displacement of the stepper motor shaft; means responsive to the number of stair steps in the drive waveform for determining the commanded angular position of the stepper motor shaft; means for determining the difference between the actual angular displacement of the stepper motor shaft and the commanded angular position; and force table means responsive to the difference between the actual angular displacement and the commanded angular displacement for converting the difference into an equivalent torque being supplied by the stepper motor to the stepper motor shaft. 11. The apparatus, as recited in claim 10, wherein the force table means relates positional difference to equivalent torque data, wherein the relationship has been previously derived from actual measurements performed on the stepper motor. 12. The apparatus, as recited in claim 1, wherein the sinusoidal-like drive curve is a single sinusoid-like cycle having a predetermined period. 13. The apparatus, as recited in claim 2, wherein the predetermined phase interval is approximately 11.25 degrees. 14. A method of accelerating a stepper motor through a range of velocities extending from a first rotational velocity to a second rotational velocity different from the first wherein the stepper motor is responsive to a drive waveform comprising a sequence of stair steps, each having a step size and a step duration, and further wherein the step size is selectable to designate the number of stair steps by which a cycle of the drive waveform is generated, the method comprising the steps of maintaining the step size in the drive waveform at a first predetermined value for rotational velocities within a first portion of the rotational velocity range; concurrently decreasing the step duration of each stair step in the drive waveform until the rotational velocity of the stepper motor enters a second portion of the rotational velocity range above the first portion of the rotational velocity range; maintaining the step size at a second predetermined value, greater than the first predetermined value, over the second portion of the rotational velocity range; concurrently decreasing the step duration of each stair step in the drive waveform until the rotational velocity of the stepper motor enters a next portion of the rotational velocity range above the second portion; sequentially modifying the step size for subsequent portions of the rotational velocity range, and varying the step duration for each step of the drive waveform thereof until the rotational velocity of the stepper motor is substantially equal to the second rotational velocity, so that the stepper motor is caused to be accelerated by a number of progressive step sizes and a varying step duration. 15. A method for driving a stepper motor for rotation at a rotational velocity designated by a command velocity signal and which is selected from a range of rotational velocities, wherein the stepper motor is responsive to a drive waveform which includes a sequence of stair steps each having a step size and a step duration, the method comprising the steps of generating step size data and step duration data in response to the command velocity signal and in accordance with the relative position of the selected rotational velocity in the range of rotational velocities, whereby data corresponding to small step sizes are generated for lower selected rotational velocities, and whereby data corresponding to large step sizes are generated for higher selected rotational velocities; and generating the sequence of stair steps in response to the step size and step duration data wherein each stair step in the sequence has a designated relative amplitude and duration, wherein the relative amplitudes emulate points along a sinusoidal-like drive curve which are sequentially spaced apart in phase at a designated regular interval, the magnitude of the regular interval being specified by the step size data, and further wherein the duration of each stair step is specified by the step duration data, whereby for lower selected rotational velocities the sequence of stair steps includes a large number of drive pulses having amplitudes corresponding to closely-spaced points in the sinusoidal drive curve which sequentially define a slowly varying sinusoidal-like function, and whereby, for higher selected rotational velocities, the sequence of stair steps includes a small number of drive pulses having amplitudes corresponding to more widely spaced points on the sinusoidal-like drive curve, which sequentially define a more rapidly varying sinusoidal-like function. 16. An apparatus responsive to a set of drive instructions for controlling the rotation of a shaft of a stepper motor in a number of predetermined modes, wherein the stepper motor is responsive to a drive waveform having a sequence of stair steps and is capable of rotation at a rotational velocity which is selected from a range of velocities, the apparatus comprising means responsive to a set of drive instructions for generating a sequence of step size and step duration data which are a function of a selected rotational velocity, wherein the step size and step duration data respectively designate relative amplitude and relative duration magnitudes and are generated as a function of the particular mode designated by the drive instructions; and means responsive to the sequence of step size and step duration data for generating the sequence of stair steps, whereby the duration of each stair step in the drive waveform is determined by the step duration data. 17. An apparatus responsive to a set of drive instructions for controlling the rotation of a shaft of a stepper motor in a number of predetermined modes, wherein the stepper motor is responsive to a drive waveform having a sequence of stair steps and is capable of rotation at a rotational velocity which is selected from a range of velocities, the apparatus comprising means responsive to a set of drive instructions for generating a sequence of step size and step duration data, wherein the step size and step duration data respectively designate relative amplitude and relative duration magnitudes and are generated as a function of the particular mode designated by the drive instructions; and means responsive to the sequence of step size and step duration data for generating the sequence of stair steps, whereby the duration of each stair step in the drive waveform is determined by the step duration data; wherein the drive instructions designate rotation by the stepper motor in a sequence of rotational velocities selected from the range of velocities, the range of velocities having a lower limit and an upper limit, and further wherein the step size and step duration data generating means include means for determining the relative position within the range of velocities of each rotational velocity of the sequence of rotational velocities; and means responsive to the relative position, within the range of velocities, of each rotational velocity of the sequence of rotational velocities, for varying the step size and step duration data generated for each of the rotational velocities, whereby smaller step sizes are designated for the rotational velocities which are positioned toward the lower limit of the range of velocities and whereby larger step sizes are designated for the rotational velocities which are positioned toward the upper limit of the range of velocities. 18. An apparatus responsive to a set of drive instructions for controlling the rotation of a shaft of a stepper motor in a number of predetermined modes, wherein the stepper motor is responsive to a drive waveform having a sequence of stair steps and is capable of rotation at a rotational velocity which is selected from a range of velocities, the apparatus comprising means responsive to a set of drive instructions for generating a sequence of step size and step duration data, wherein the step size and step duration data respectively designate relative amplitude and relative duration magnitudes and are generated as a function of the particular mode designated by the drive instructions; and means responsive to the sequence of step size and step duration data for generating the sequence of stair steps, whereby the duration of each stair step in the drive waveform is determined by the step duration data; wherein the drive instruction designate an acceleration over an allotted time period from a first velocity to a second velocity, which is greater than the first, and further wherein the step size and step duration data generating means include means responsive to the first and second velocities and the allotted time period for generating a command table and a step duration table, wherein the command table includes a sequential designation of step size and a predetermined number of steps to be output having such step size; and further wherein the step duration table includes a sequence of step durations, each step duration being associated with one of the stair steps in the drive waveform; and means responsive to the command table and the step duration table for generating an acceleration sequence of step size data and acceleration sequence of step duration data correlated to the sequence of step size data, wherein the step size is kept constant for a predetermined number of steps while the step duration is varied for each step, whereby the step size is increased after each set of the predetermined number of steps is generated and whereby the step duration is decreased for each step generated as the stepper motor is accelerated between the first velocity and the second velocity. 19. The apparatus of claim 18, wherein the step size and step duration signal generating means further includes means for counting the number of steps generated and for providing a step size increment signal whenever the predetermined number of steps have been generated. 20. An apparatus responsive to a set of drive instructions for controlling the rotation of a shaft of a stepper motor in a number of predetermined modes, wherein the stepper motor is responsive to a drive waveform having a sequence of stair steps and is capable of rotation at a rotational velocity which is selected from a range of velocities, the apparatus comprising means responsive to a set of drive instructions for generating a sequence of step size and step duration data, wherein the step size and step duration data respectively designate relative amplitude and relative duration magnitudes and are generated as a function of the particular mode designated by the drive instructions; and means responsive to the sequence of step size and step duration data for generating the sequence of stair steps, whereby the duration of each stair step in the drive waveform is determined by the step duration data; wherein the drive instructions designate a positional mode for placing the shaft of the stepper motor in a commanded angular position, the apparatus further including means for providing a position signal which is indicative of the actual angular position of the stepper motor shaft; and further wherein the step size and step duration generating means include means responsive to the position signal and to the commanded angular position for determining a positional difference quantity between the predetermined angular position and the actual angular position of the shaft; means responsive to the positional difference quantity for designating the number and size of the stair steps required to position the shaft at the commanded angular position; and means for controlling the stair step sequence generating means so that the generated sequence contains the designated number and size of steps. 21. The apparatus of claim 20, wherein a load is driven by the stepper motor shaft and furtherwherein the presence of the load results in a positional difference quantity between the commanded angular position and the actual angular position the apparatus further including force table means responsive to the positional difference for translating the positional difference into a force quantity which is indicative of the force being applied by the shaft to the load, wherein the force table means includes a predetermined tabulation of the angular deflection of the stepper motor shaft, as a function of the magnitude of the load applied over a range of load magnitudes, whereby the force being applied to the load by the stepper motor can be derived from the predetermined tabulation by locating therein load magnitude which corresponds to the angular deflection which is represented by the positional difference. 22. The apparatus of claim 20, wherein the drive instructions designate a force application mode in which a predetermined force quantity is to be applied to the load, further including means responsive to the predetermined force for deriving a corresponding desired angular deflection from the force table means; comparison means for comparing the desired angular deflection to the positional difference quantity; and means for generating a step increment command to change the stepper motor shaft position in a direction which tends to decrease the difference between the desired angular deflection and the positional difference quantity. 23. The apparatus of claim 21, wherein the drive instructions further designate a compliance mode with respect to an initial shaft position and a predetermined compliance quantity, the comparison means further including means for equating the predetermined force quantity to the difference between the initial shaft position and the actual angular position of the stepper motor shaft which has been scaled by the predetermine compliance quantity. 24. The apparatus of claim 16, wherein the sequence of step size and step duration signals determine a sequence of drive pulses having amplitudes which vary sinusoidally relative to one another. 