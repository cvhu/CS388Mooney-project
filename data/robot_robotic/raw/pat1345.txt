A mobile apparatus or the like capable of moving or acting while surely preventing contact with an object such as a human being, by avoiding the situation where the object inappropriately changes its behavior for the purposes of preventing contact with the mobile apparatus, is provided. According to the robot of the present invention, a path that can prevent contact with the third spatial element satisfying the requirement regarding the size in the element space, among a plurality of expanded spatial elements arranged around the first spatial element, is set as a target path. This allows the robot to move in accordance with a consistent rule that is modified in response to the width of the clearance between the object and the boundary of the passable region.
Claims What is claimed is: 1. A mobile apparatus autonomously moving along a target path, comprising: a first processing element which recognizes a position of a boundary of a region where the mobile apparatus is passable, the mobile apparatus and a position thereof, and an object and a position thereof, as a position of a boundary of an element space, a reference spatial element and a position thereof, and a first spatial element and a position thereof, respectively; a second processing element which, based on the position of the boundary of the element space and the first spatial element and the position thereof included in a recognition result of the first processing element, selects one of an expanded spatial element and a position thereof, among a plurality of expanded spatial elements arranged around the first spatial element, satisfying a requirement that a size in the element space is minimum or is equal to or less than a threshold value as a third spatial element and the position thereof; and a third processing element which, based on the position of the boundary of the element space, the reference spatial element and the position thereof, and the first spatial element and the position thereof included in the recognition result of the first processing element and based on the third spatial element and the position thereof included in a selection result of the second processing element, sets a path that allows the reference spatial element to prevent contact with the first spatial element and the third spatial element in the element space as the target path. 2. The mobile apparatus according to claim 1, wherein the second processing element regards a plurality of regions of same shape and same area arranged at an equal distance from the first spatial element as the plurality of expanded spatial elements, and regards an overlapping area of each of the plurality of regions with the element space as the size of the expanded spatial element, for recognition of the third spatial element. 3. The mobile apparatus according to claim 1, wherein the second processing element regards a plurality of line segments of same shape extending from the first spatial element in different directions as the plurality of expanded spatial elements, and regards a length of a part of each of the plurality of line segments continuing from the first spatial element to the boundary of the element space as the size of the expanded spatial element, for recognition of the third spatial element. 4. The mobile apparatus according to claim 1, wherein the first processing element recognizes a changing pattern of a relative position of the object with respect to the mobile apparatus as a changing pattern of a relative position of the first spatial element with respect to the reference spatial element in the element space, the second processing element, based on the position of the boundary of the element space, the first spatial element and the position thereof, and the changing pattern of the relative position of the first spatial element with respect to the reference spatial element included in the recognition result of the first processing element, recognizes a spatial element and the position thereof as a result of expanding the first spatial element intermittently or continuously in accordance with the changing pattern of the relative position in the element space as a second spatial element and the position thereof, and the third processing element, based on the position of the boundary of the element space included in the recognition result of the first processing element, and based on the second spatial element and the position thereof and the third spatial element and the position thereof included in the recognition result of the second processing element, sets a path that allows the reference spatial element to prevent contact with the third spatial element and with the second spatial element in the element space as the target path. 5. The mobile apparatus according to claim 4, wherein the second processing element determines whether there is a possibility of contact between the reference spatial element and the first spatial element in the element space based on the position of the boundary of the element space, the reference spatial element and the position thereof, and the first spatial element and the position thereof included in the recognition result of the first processing element, and the third processing element newly sets the target path on the condition that the second processing element determines that there is the possibility of contact. 6. A program recorded on a computer-readable medium causing a computer mounted on a mobile apparatus autonomously moving along a target path to function as the system for controlling the operation of the mobile apparatus as recited in claim 1. 7. The mobile apparatus according to claim 1, wherein the plurality of expanded spatial elements do not overlap the first spatial element. 8. A method for controlling an operation of a mobile apparatus autonomously moving along a target path, the device executing: a first process of recognizing a position of a boundary of a region where the mobile apparatus is passable, the mobile apparatus and the position thereof, and an object and the position thereof, as a position of a boundary of an element space, a reference spatial element and the position thereof, and a first spatial element and the position thereof, respectively; a second process of, based on the position of the boundary of the element space, and the first spatial element and the position thereof from a recognition result of the first process, selecting one of an expanded spatial element and the position thereof, from a plurality of expanded spatial elements arranged around the first spatial element, that satisfies a requirement that a size in the element space is minimum or is equal to or less than a threshold value as a third spatial element and the position thereof; and a third process of, based on the position of the boundary of the element space, the reference spatial element and the position thereof, and the first spatial element and the position thereof included in the recognition result of the first process, and based on the third spatial element and the position thereof included in a selection result of the second process, setting a path that allows the reference spatial element to prevent contact with the first spatial element and the third spatial element in the element space as the target path. 9. The method according to claim 8, wherein the plurality of expanded spatial elements do not overlap the first spatial element. 