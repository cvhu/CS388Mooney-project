Improved method and apparatus for machine vision. One embodiment provides automated imaging and analysis, optionally including Scheimpflug's condition on the pattern projector, telecentric imaging and projecting, an IR filter, a mask to constrain observed illumination, and/or a sine-wave projection pattern for more accurate results. Another embodiment provides circuitry for a machine-vision system. Another embodiment provides a machine-vision system, optionally including accommodation of random orientation of parts in trays, irregular location of features being inspected, crossed pattern projectors and detectors for shadow reduction, detection of substrate warpage as well as ball-top coplanarity, two discrete shutters (or flash brightnesses) interleaved (long shutter for dark features, short shutter for bright features). Another embodiment provides parts inspection, optionally including a tray elevator that lifts trays to an inspection surface, moves trays in short tray dimension, provides first tray inspection at a major surface of the elevator, and/or provides a tray flipper.
Claims What is claimed is: 1. A machine vision system for inspecting a tray populated with a plurality of devices, the machine vision system comprising: an inspection station including an imaged area, wherein the inspection station is configured to perform a machine-vision inspection of a plurality of devices in a tray; a first output station having a first output elevator configured to hold a plurality of trays each of which has a plurality of devices that have passed the machine-vision inspection; and a sorting device that operates on devices held in a top first tray held at the first output elevator above a plurality of other trays each of which has a plurality of devices all of which have passed inspection, wherein the sorting device, based on the machine-vision inspection having determined that a first device of the plurality of devices in the first tray has not passed inspection operates to remove the first device that has not passed inspection from the top first tray and to replace the first removed device with a device that has previously passed inspection; wherein upon completion of a sorting operation by the sorting device the system operates to then lower the first tray and the plurality of other trays such that trays, each having a plurality of devices that have passed inspection, are held at the first output elevator of the first output station. 2. The system of claim 1, wherein the inspection station comprises: a first-side machine-vision inspection station that inspects a first side of each of the plurality of devices in a first tray; a second-side machine-vision inspection station that inspects a second side of each of the plurality of devices; a device-inverting mechanism between the first-side inspection station and the second-side inspection station that operates to invert the plurality of devices such that a different side of the plurality of devices is inspected in the second-side station than was inspected in the first-side inspection station. 3. The system of claim 2, wherein the device-inverting mechanism operates to invert the plurality of devices from the first tray into an inverted position, and wherein the device-inverting mechanism is configured to place the plurality of devices back into the first tray in the inverted position such that the plurality of devices are in the first tray in the inverted position when they are inspected in the second-side machine-vision inspection station. 4. The system of claim 2, wherein the-device-inverting mechanism operates to place the first tray on top of a third tray and to invert and remove the plurality of devices from the third tray into an inverted position into the first tray such that the plurality of devices are in the first tray in the inverted position when they are inspected in the second-side machine-vision inspection station. 5. The system of claim 1, wherein the device that has previously passed inspection that is used to replace the first device that has not passed inspection in the first tray is obtained from a second tray that holds devices including one or more known-good devices that have each previously passed inspection. 6. The system of claim 5, further comprising: a second output station having a second output elevator configured to hold a plurality of trays each of which has a plurality of devices that have not passed the machine-vision inspection, wherein the second tray is a top tray at the second output station and is used to hold a supply of known-good devices, wherein devices that have not passed the machine-vision inspection, after removal from the first tray, are placed in the second tray, and once all the known-good devices from the second tray have been used as replacements and the second tray holds only devices that have not passed inspection, the second elevator lowers the second tray and a plurality of other trays holding devices that have not passed inspection. 7. The system of claim 1, wherein the inspection station includes a third elevator below the imaged area, wherein the third elevator holds a plurality of trays each holding a plurality of devices. 8. A machine-vision method for inspecting trays each populated with a plurality of devices, the machine-vision method comprising: performing a machine-vision inspection of a plurality of devices in a first tray; providing a first output station having a first output elevator; holding in the first output elevator a plurality of other trays each of which has a plurality of devices that have passed the inspection; holding the first tray at the first output station above the plurality of trays having their respective plurality of devices that have passed the inspection; sorting by removing from the first tray a first device that has not passed the inspection and replacing the first removed device with a device that has passed inspection; and upon completion of the sorting, lowering the first tray and the plurality of other trays in the first output elevator and moving another tray having a plurality of inspected devices to a position above the first tray. 9. The method of claim 8, wherein the machine-vision inspection comprises: performing a first-side machine-vision inspection of a first side of devices in a first tray; performing a device-inverting operation on the devices that were inspected in the first-side machine-vision inspection; and performing a second-side machine-vision inspection, wherein the device-inverting operation operates to invert the devices such that a second side of the devices is inspected in the second-side machine-vision inspection. 10. The method of claim 9, wherein the device-inverting operation is configured to invert and remove the devices from the first tray and to place the devices back into the first tray such that the devices are in the first tray with their second side upward during the second-side machine-vision inspection. 11. The method of claim 9, wherein the device-inverting operation is configured to place the first tray to invert the plurality of devices from another tray into an inverted position, and wherein the device-inverting mechanism is configured to place the plurality of devices into the first tray in the inverted position such that the plurality of devices are in the first tray in the inverted position when they are inspected in the second-side machine-vision inspection station. 12. The method of claim 8, further comprising obtaining the device that has previously passed inspection, which is used to replace the first device that has not passed inspection in the first tray, from a second tray that holds devices including one or more known-good devices that have each previously passed inspection. 13. The method of claim 12, further comprising: providing a second output station having a second output elevator; holding a plurality of trays each of which has a plurality of devices that have not passed the machine-vision inspection, wherein the second tray is a top tray at the second output station and is used to hold a supply of known-good devices, wherein devices that have not passed the machine-vision inspection, after removal from the first tray, are placed in the second tray, and once all the known-good devices from the second tray have been used as replacements and the second tray holds only devices that have not passed inspection, the second elevator lowers the second tray and a plurality of other trays holding devices that have not passed inspection. 14. The method of claim 8, wherein the inspection station includes a third elevator below imaged area, wherein the third elevator holds a plurality of trays each holding a plurality of devices. 15. A machine vision system for inspecting a tray populated with a plurality of devices, the machine vision system comprising: an inspection station including an imaged area, wherein the inspection station is configured to perform a machine-vision inspection of a plurality of devices in a tray; a first output station; means for holding the first tray at the first output station; means for holding a plurality of other trays each of which has a plurality of devices that have passed the inspection below the first tray; means for sorting by removing from the first tray a first device that has not passed the inspection and replacing the first removed device with a device that has passed inspection; and means for lowering the first tray and the plurality of other trays in the first output elevator and moving another tray having a plurality of inspected devices to a position above the first tray. 16. The system of claim 15, wherein the inspection station comprises: means for performing a first-side machine-vision inspection of a first side of devices in a first tray; means for performing a device-inverting operation on the devices that were inspected in the first-side machine-vision inspection; and means for performing a second-side machine-vision inspection, wherein the device-inverting operation operates to invert the devices such that a second side of the devices is inspected in the second-side machine-vision inspection. 17. The system of claim 16, wherein the means for performing the device-inverting operation is configured to invert and remove the devices from the first tray and to place the devices back into the first tray such that the devices are in the first tray with their second side upward during the second-side machine-vision inspection. 18. The system of claim 16, wherein the means for performing the device-inverting operation is configured to place the first tray to invert the plurality of devices from another tray into an inverted position, and wherein the device-inverting mechanism is configured to place the plurality of devices into the first tray in the inverted position such that the plurality of devices are in the first tray in the inverted position when they are inspected in the second-side inspection station. 19. The system of claim 15, wherein the means for sorting includes means for obtaining the device that has previously passed inspection, which is used to replace the first device that has not passed inspection in the first tray, from a second tray that holds devices including one or more known-good devices that have each previously passed inspection. 20. The system of claim 19, further comprising: a second output station; means for holding a plurality of trays each of which has a plurality of devices that have not passed the machine-vision inspection, wherein the second tray is a top tray at the second output station and is used to hold a supply of known-good devices, wherein devices that have not passed the machine-vision inspection, after removal from the first tray, are placed in the second tray, and once all the known-good devices from the second tray have been used as replacements and the second tray holds only devices that have not passed inspection, the second elevator lowers the second tray and a plurality of other trays holding devices that have not passed inspection. 