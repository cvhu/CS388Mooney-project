A method and apparatus to develop an advanced correlation model of movement of a target within a patient, which needs less data points and can adapt to the changes of respiration behavior automatically.
Claims What is claimed is: 1. A method, comprising: acquiring a plurality of data points representative of a corresponding plurality of positions over time of an external marker disposed on a surface of an object; acquiring an image of a target internal to the object; and identifying a non-linear path of movement of the target based on the plurality of data points and the image using a parameterization function to approximate the non-linear path of movement, wherein the parameterization function comprises a constrained curve that intersects a principal axis of the plurality of data points at a first intersection and at a second intersection, and the constrained curve is tangent to the principal axis at the first and second intersections, wherein the principal axis is determined using an approximation of the plurality of data points. 2. The method of claim 1, further comprising generating a correlation model that maps movement of the external marker to a target location of the target using the parameterization function. 3. The method of claim 2, wherein the parameterization function comprises only one model parameter, wherein the parameterization function satisfies four boundary conditions, comprising: a first boundary condition that the constrained curve intersects the principal axis at the first intersection; a second boundary condition that the constrained curve intersects the principal axis at the second intersection; a third boundary condition that the constrained curve is tangent to the principal axis at the first intersection; and a fourth boundary condition that the constrained curve is tangent to the principal axis at the second intersection. 4. The method of claim 3, further comprising: determining a first sample point of the target location using the acquired image; and determining a shape of the constrained curve using the parameterization function that satisfies the four boundary conditions and the first sample point, and wherein the first sample point defines an amount of curve of the constrained curve between the first and second intersections. 5. The method of claim 4, wherein the parameterization function is a fourth order polynomial, and wherein said determining the shape comprises applying the four boundary conditions to the fourth order polynomial, wherein the fourth order polynomial is represented by the following equation: x=a.rho..sup.4+b.rho..sup.3+c.rho..sup.2+d.rho.+e, where a, b, c, d, e are unknown model parameters and .rho. is a displacement of the target location, wherein the fourth order polynomial is represented by the following equation after applying the four boundary conditions: x=a.rho..sup.4-2a.rho..sup.3+a.rho..sup.2, where a is the only unknown model parameter; and applying the first sample point to the only unknown model parameter of the fourth order polynomial. 6. The method of claim 4, wherein the parameterization function is a sinusoid function having a power of two or more, wherein the sinusoid function inherently satisfies the four boundary conditions. 7. The method of claim 6, wherein the sinusoid function is represented by the following equation x=a sin.sup.2 .rho., where a is the only unknown model parameter and .rho. is a displacement of the target location, and wherein said determining the shape comprises applying the first sample point to the only unknown model parameter of the sinusoid function. 8. The method of claim 6, wherein the sinusoid function is represented by the following equation x=a|sin.sup.3 .rho.x|, where a is the only unknown model parameter and .rho. is a displacement of the target location, and wherein said determining the shape comprises applying the first sample point to the only unknown model parameter of the sinusoid function. 9. The method of claim 6, wherein the sinusoid function is represented by the following equation x=a sin.sup.4 .rho., where a is the only unknown model parameter and .rho. is a displacement of the target location, and wherein said determining the shape comprises applying the first sample point to the only unknown model parameter of the sinusoid function. 10. The method of claim 2, further comprising: identifying an inspiration interval of the non-linear path of movement of the target, the inspiration interval associated with an approximate time during which the patient breathes in; and identifying an expiration interval of the non-linear path of movement of the target, the expiration interval associated with an approximate time during which the patient breathes out, wherein the non-linear path of movement of the target comprises: an inspiration path associated with the inspiration interval; and an expiration path associated with the expiration interval, wherein the plurality of positions of the external marker defines an external path of movement of the external marker, the external path of movement having a respiratory period associated with a respiratory cycle of the patient, and wherein a derivative of the plurality of data points at a selected one of the plurality of data points identifies an inspiration interval and a expiration interval of the respiratory period, the derivative comprising a directional indicator. 11. The method of claim 10, wherein the correlation model comprises a dual-constrained-curve model, wherein the dual-constrained-curve model comprises: a first constrained curve associated with the non-linear path of movement of the target over the inspiration interval; and a second constrained curve associated with the non-linear path of movement of the target over the expiration interval. 12. The method of claim 2, further comprising deriving a target position of the target based on the correlation model. 13. The method of claim 2, further comprising: detecting a change in magnitude of the movement of the external marker; and automatically scaling the correlation model when a change in magnitude of the movement of the external marker is detected. 14. The method of claim 12, further comprising: sending a position signal associated with the target position to a beam generator controller; and controlling a beam generator to direct a beam at the target. 15. The method of claim 1, further comprising updating the correlation model in response to an acquisition of a new image. 16. An apparatus, comprising: an data storage device to store a plurality of displacement points of an external marker and a corresponding plurality of images of a target; and a processing device coupled to the data storage device, the processing device to identify a non-linear path of movement of the target using a parameterization function to approximate the non-linear path of movement, wherein the parameterization function comprises a constrained curve that intersects a principal axis of the plurality of data points at a first intersection and at a second intersection, and the constrained curve is tangent to the principal axis at the first and second intersections, wherein the principal axis is determined using an approximation of the plurality of data points. 17. The apparatus of claim 16, wherein the processing device is further configured to develop a correlation model of the non-linear path of movement using the parameterization function based on the plurality of data points and at least one of the plurality of images, wherein the parameter approximation function satisfies four boundary conditions, comprising: a first boundary condition that the constrained curve intersects the principal axis at the first intersection; a second boundary condition that the constrained curve intersects the principal axis at the second intersection; a third boundary condition that the constrained curve is tangent to the principal axis at the first intersection; and a fourth boundary condition that the constrained curve is tangent to the principal axis at the second intersection. 18. The apparatus of claim 16, wherein the processing device is configured to receive a first acquired image of the plurality of images, to determine a first sample point, and to determine a shape of the constrained curve using the parameterization function and the first sample point, wherein the first sample point defines an amount of curve of the constrained curve between the first and second intersections. 19. The apparatus of claim 16, wherein the parameterization function is a fourth order polynomial that has only one unknown model parameter, wherein the fourth order polynomial is: x=a.rho..sup.4-2a.rho..sup.3+a.rho..sup.2, where a is the one unknown model parameter and x=a.rho..sup.4-2a.rho..sup.3+a.rho..sup.2. 20. The apparatus of claim 16, wherein the parameterization function is a sinusoid function having a power of two or more, wherein the sinusoid function inherently satisfies the four boundary conditions. 21. The apparatus of claim 16, wherein the processing device is configured to detect a change in magnitude of the movement of the external marker, and to scale the correlation model when the change in magnitude of the movement of the external marker is detected. 22. An apparatus, comprising: means for receiving a plurality of data points representative of a corresponding plurality of positions over time of an external marker disposed on a surface of an object; means for receiving an image of a target internal to the object; and means for reducing a number of images acquired in developing a correlation model that maps the movement of the external marker to a target location of the target, wherein reducing a number of images acquired comprises developing the correlation model that includes only one unknown model parameter, which is one sample point. 23. The apparatus of claim 22, further comprising means for detecting a change in magnitude of the movement of the external marker; and means for automatically scaling the correlation model when the change in magnitude of the movement of the external marker is detected. 24. A non-transitory computer readable medium having instructions thereon, which when executed by a processing device, cause the processing device to perform the following operations comprising: receiving a plurality of displacement points over time of an external marker attached to a body; receiving a image of a target internal to the body; and developing a correlation model based on the plurality of displacement points and the image using a parameterization function that includes a constrained curve that intersects a principal axis of the plurality of data points at a first intersection and at a second intersection, and the constrained curve is tangent to the principal axis at the first and second intersections, wherein the correlation model maps the movement of the external marker to a target location of the target, wherein the principal axis is determined using an approximation of the plurality of data points. 