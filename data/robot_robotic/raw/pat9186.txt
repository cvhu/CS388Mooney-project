A method and system for reclaiming stacked volumes within a peripheral data storage subsystem is disclosed. In accordance with the method and system of the present invention, a database is interrogated to determine whether or not an opportunistic reclaim threshold of a stacked volume has been reached after a service request from a host computer has been performed on a stacked volume and while the stacked volume is still mounted. If the opportunistic reclaim threshold of the stacked volume has not been reached, the stacked volume is released and dismounted. However, if the reclaim threshold of the stacked volume has been reached, another determination is made as to whether or not a service request for the host computer is pending. If the host computer requires service, the stacked volume is again released and dismounted. Otherwise, if the host computer does not require service, at least one data set from the mounted stacked volume is opportunistically reclaimed while the stacked volume is still mounted.
Claims What is claimed is: 1. A method for reclaiming stacked volumes within a peripheral data storage subsystem, wherein said peripheral data storage subsystem includes a manager for controlling operations, a controller connected to said manager for attaching said subsystem to a host processor, a plurality of addressable media devices for removably receiving physical volumes of data storage media, a plurality of tape drives connected to said manager and to said media devices for mounting and dismounting said physical volumes of data storage media, said method comprising the steps of: interrogating a database in said manager to determine if an opportunistic reclaim threshold of a stacked volume has been reached after an operation requested by said host computer has been performed on said stacked volume while said stacked volume is still mounted, wherein said opportunistic reclaim threshold specifies a minimum allowable amount of valid data on said stacked volume; in response to a determination that said opportunistic reclaim threshold of said stacked volume has been reached, determining if a service request for said host computer is pending; and in response to a determination that said host computer does not require service, opportunistically reclaiming at least one data set from said mounted stacked volume while said stacked volume is still mounted. 2. The method for reclaiming stacked volumes within a peripheral data storage subsystem according to claim 1, wherein said opportunistic reclaim threshold is greater than zero. 3. The method for reclaiming stacked volumes within a peripheral data storage subsystem according to claim 1, wherein said method further includes a step of dismounting said stacked volume, in response to a determination that said reclaim threshold of said stacked volume has not been reached. 4. The method for reclaiming stacked volumes within a peripheral data storage subsystem according to claim 1, wherein said method further includes a step of dismounting said stacked volume, in response to a determination that said host computer requires service. 5. The method for reclaiming stacked volumes within a peripheral data storage subsystem according to claim 1, wherein said step of opportunisticlly reclaiming at least one data set further includes a step of reclaiming the last reclaimable data set first. 6. The method for reclaiming stacked volumes within a peripheral data storage subsystem according to claim 1, wherein said method further includes a step of concatenating unutilized spaces at the end of a data storage media by moving a pointer within said database without mounting said stacked volume. 7. The method for reclaiming stacked volumes within a peripheral data storage subsystem according to claim 1, wherein said opportunistically reclaiming step further includes a step of opportunistically reclaiming at least one data set from said mounted stacked volume while said stacked volume is still mounted, only in response to a determination that said host computer does not require service. 8. A peripheral data storage subsystem comprising: a manager for controlling operations; a controller connected to said manager for attaching said subsystem to a host processor; a plurality of addressable media devices for removably receiving physical volumes of data storage media; a plurality of tape drives connected to said manager and to said media devices for mounting and dismounting said physical volumes of data storage media; means for interrogating a database in said manager to determine whether or not an opportunistic reclaim threshold of a stacked volume has been reached after an operation requested by said host computer has been performed on said stacked volume while said stacked volume is still mounted, wherein said opportunistic reclaim threshold specifies a minimum allowable amount of valid data on said stacked volume; means for determining if a service request for said host computer is pending, in response to a determination that said opportunistic reclaim threshold of said stacked volume has been reached; and means for opportunistically reclaiming at least one data set from said mounted stacked volume while said stacked volume is still mounted, in response to a determination that said host computer does not require service. 9. The peripheral data storage subsystem according to claim 8, wherein said opportunistic reclaim threshold is greater than zero. 10. The peripheral data storage subsystem according to claim 8 further includes means for dismounting said stacked volume in response to a determination that said reclaim threshold of said stacked volume has not been reached. 11. The peripheral data storage subsystem according to claim 8 further includes means for dismounting said stacked volume in response to a determination that said host computer requires service. 12. The peripheral data storage subsystem according to claim 8, wherein said means for opportunisticlly reclaiming at least one data set further includes means for reclaiming the last reclaimable data set first. 13. The peripheral data storage subsystem according to claim 8 further includes means for moving a pointer within said database for concatenating unutilized spaces at the end of a data storage media without mounting said stacked volume. 14. The peripheral data storage subsystem according to claim 6, wherein said opportunistically reclaiming means further includes a means for opportunistically reclaiming at least one data set from said mounted stacked volume while said stacked volume is still mounted, only in response to a determination that said host computer does not require service. 