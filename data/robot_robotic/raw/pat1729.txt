A method and system for emulating tape library commands is disclosed. Tape library commands implemented in response to commands received from a data protection application are emulated in a disk based storage medium so that existing data protection applications may be used to copy data to and from the disk based storage medium.
Claims What is claimed is: 1. A method comprising: configuring a virtual tape library (VTL) in communication with a plurality of data protection applications (DPAs) to emulate a plurality of physical tape libraries (PTLs); operating the VTL to emulate the plurality of PTLs by translating, in the VTL, a plurality of DPA commands in a plurality of formats used by the plurality of DPAs for DPA-to-PTL communication, into a single format for use by the VTL, wherein each of the DPAs uses a DPA command of the plurality of DPA commands to backup data at one of the plurality of PTL, wherein configuring the VTL to emulate the plurality of VTLs comprises storing a plurality of VTL specifications accessible to the VTL, each specification corresponding to a different one of the plurality of PTLs; receiving one of the plurality of DPA commands, at the VTL, for writing backup data from one of the plurality of DPAs, saving the data of one DPA command of the plurality of DPAs commands to a location in the VTL as the one DPA command arrives to the VTL, and associating the location of the saved data in the VTL with a location indicated in a PTL identifier, the PTL identifier specifying a location in the PTL as a destination for the data. 2. The method of claim 1, further comprising selecting one of the plurality of VTL specifications in response to receiving, at the VTL, a DPA command of the plurality of DPA commands from one of the plurality of DPAs to one of the plurality of PTLs corresponding to the selected one of the plurality of VTL specifications. 3. A method for emulating tape library commands between a plurality of data protection applications (DPAs) and a virtual tape library (VTL), the method comprising: configuring the VTL based on a specification of a physical tape library (PTL); receiving, at the VTL from the plurality of DPAs, a plurality of PTL commands for writing backup data; determining, at the VTL, whether the plurality of PTL commands can be performed based on a configuration of the VTL, wherein the configuration of the VTL corresponds to the specification of the PTL; in response to determining that the plurality of PTL commands can be performed based on the configuration of the VTL and that the plurality of PLT commands conform to available internal resources of the VTL, translating one of the plurality of PTL commands from one of the plurality of DPAs, by the VTL, from a format for communication between the one DPA of the plurality of DPAs and the PTL to a format for performing the one PTL command by the VTL, wherein the VTL is configured to translate a plurality of formats for DPA-to-PTL communication into the format for performing each of the plurality of PTL commands by the VTL; and performing, on the VTL, the translated PTL command of the plurality of PTL commands. 4. The method according to claim 3, wherein each of the plurality of PTL commands comprises: data to be written, and an identifier of a location of the PTL as a destination for the data. 5. The method according to claim 4, wherein as each of the plurality of PTL commands for writing backup data arrive at the VTL, the VTL saves the backup data to a location of the VTL and then associates the location with the location of the PTL, based on the identifier. 6. The method according to claim 3, wherein the VTL saves the configuration to a file that is automatically made accessible to the plurality of DPAs upon activation of the VTL. 7. The method of claim 3, wherein one of the plurality of PTL commands for writing backup data is preceded by a command to retrieve a tape to a tape drive for the writing of the backup data. 8. The method according to claim 3, wherein the performing comprises: recording state changes on the VTL for a physical PTL command of the plurality of PTL commands, and performing a data movement command directly on the VTL. 9. The method according to claim 3, further comprising: operating the VTL to emulate a different one of a plurality of PTLs for each of a plurality of different users. 10. The method according to claim 9, further comprising: in the VTL, limiting access by the plurality of users so that each said user can only access said user's own emulated PTL. 11. The method according to claim 9, wherein each of the users is a DPA of the plurality of DPAs, the method further comprising: in the VTL, limiting access of the plurality of DPAs so that each of the DPAs can only see its own emulated PTL. 12. The method according to claim 3, further comprising: using at least one of LUN mapping or network zoning in the VTL to specify hosts that can interact with an emulated PTL. 13. The method according to claim 3, further comprising: using LUN mapping in the VTL to selectively allow certain network nodes to see the VTL while preventing other network nodes from seeing the VTL. 14. A system for emulating a plurality of tape library commands, comprising: a virtual tape library (VTL) in communication with a plurality of data protection applications (DPAs), said VTL configured to: receive, from a DPA of the plurality of DPAs, a physical tape library (PTL) data backup command of the plurality of tape library commands, and determine whether the PTL command of the plurality of tape library commands can be performed based on a configuration of the VTL, wherein the configuration of the VTL corresponds to a specification of the PTL, in response to determining that the PTL command of the plurality of tape library commands can be performed based on the configuration of the VTL and that the PTL command of the plurality of tape library commands conforms to the available internal resources of the VTL, translate the PTL command of the plurality of tape library commands from a format for DPA-to-PTL communication between one of the plurality of DPAs and the PTL to the format to perform the PTL command of the plurality of tape library commands by the VTL, wherein the VTL is configured to translate a plurality of formats for DPA-to-PTL communication into the format to perform the PTL command of the plurality of tape library commands by the VTL, perform the translated PTL command of the plurality of tape library commands, and emulate a different one of a plurality of PTLs for each of a plurality of different users. 15. The system according to claim 14, wherein said VTL is further configured to: record state changes for a physical PTL command, and perform a data movement command of the plurality of tape library commands. 16. The system according to claim 14, further comprising: in the VTL, limiting access by the plurality of users so that each said user can only access said user's own emulated PTL. 17. The system according to claim 14, wherein each of the users is a DPA of the plurality of DPAs, the method further comprising: in the VTL, limiting access of the plurality of DPAs so that each of the DPAs can only see its own emulated PTL. 18. The system according to claim 14, further comprising: using at least one of LUN mapping of network zoning in the VTL to selectively allow certain network nodes to see the VTL while preventing other network nodes from seeing the VTL. 19. The method of claim 1, wherein at least two of the plurality of DPAs are from different DPA producers. 