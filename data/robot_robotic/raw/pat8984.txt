A system for generating or determining a desired height of a biped mobile robot having a body and two articulated legs each connected to the body through a hip joint and each including a knee joint, an ankle joint and a foot. In the system, body trajectory of body displacement including desired horizontal body position and orientation, except for a desired body height in the direction of gravity and leg trajectory of foot displacement including a desired position and orientation are predetermined on an off-line computer. Based on the parameters, a body height in the direction of gravity is determined by solving an equation comprised of a continuous function of the body height. Then, desired angles of said hip joints, said knee joint and said ankle joint are determined, through an inverse kinematic solution, based on said determined body trajectory, said leg trajectory and said determined desired body height. With the arrangement, it becomes possible to determine a smooth body height trajectory appropriately reduced in vertical motion on a real time basis during robot locomotion.
Claims What is claimed is: 1. A system for generating a gait of a legged mobile robot having at least a body and a plurality of articulated legs each connected to the body through a first joint and each including a second joint, comprising: body trajectory determining means for determining a trajectory of body displacement including at least one of desired horizontal body position and orientation, but excluding a desired body height; leg trajectory determining means for determining a trajectory of each leg distal end displacement including at least one of desired position and orientation; desired body height determining means for determining a body height by solving an equation comprised of a continuous function of the body height based on the determined body trajectory and leg trajectory to determine the desired body height based on the solution; and joint angle determining means for determining desired angles of said first and second joints based on said determined body trajectory, said leg trajectory and said determined desired body height. 2. A system according to claim 1, wherein said equation is an equation comprised of a continuous function of the displacement of at least one of said first and second joints. 3. A system according to claim 2, wherein said equation is a symmetric expression established with respect to at least one of said first and second joints. 4. A system according to claim 2, wherein the solution of the continuous function varies monotonically with increasing body height. 5. A system according to claim 3, wherein the solution of the continuous function varies monotonically with increasing body height. 6. A system according to claim 1, wherein at least one of said desired horizontal body position, said desired horizontal body orientation, said desired each leg distal end position and said desired each leg desired distal end orientation is a virtual value. 7. A system according to claim 2, wherein at least one of said desired horizontal body position, said desired horizontal body orientation, said desired each leg distal end position and said desired each leg desired distal end orientation is a virtual value. 8. A system according to claim 1, wherein said desired body height determining means includes: body height calculating means for calculating n (n.gtoreq.1) number of body heights; and average calculating means for calculating an average between said solution and said n number of calculated body heights; and wherein said desired body height determining means determines the desired body height based on the average. 9. A system according to claim 2, wherein said desired body height determining means includes: body height calculating means for calculating n (n.gtoreq.1) number of body heights; and average calculating means for calculating an average of said solution and said n number of calculated body heights, and wherein said desired body height determining means determines the desired body height based on the average. 10. A system according to claim 8, wherein said average is a weighted average. 11. A system according to claim 9, wherein said average is a weighted average. 12. A system according to claim 8, said desired body height determining means further including: smoothing means for smoothing at least one of said solution and said average. 13. A system according to claim 9, said desired body height determining means further including: smoothing means for smoothing at least one of said solution and said average. 14. A system according to claim 1, wherein said desired body height determining means determines said solution using a Newton calculation method. 15. A system according to claim 1, further including: joint servo controller for controlling actuators of said first and second joints in response to the desired angles. 16. A system according to claim 1, wherein said legged mobile robot is a biped robot, said first joint is a hip joint and said second joint is a knee joint. 17. A system according to claim 1, wherein said legged mobile robot is a robot having legs more than two, said first joint is a root joint and said second joint is a knee joint. 18. A system for generating a desired height of a biped mobile robot having a body and two articulated legs each connected to the body through a hip joint and each including a knee joint, an ankle joint and a foot, comprising: body trajectory determining means for determining a trajectory of body displacement including at least one of desired horizontal body position and orientation, but excluding a desired body height; leg trajectory determining means for determining a trajectory of foot displacement including at least one of desired position and orientation; desired body height determining means for determining a body height by solving an equation comprised of a continuous function of the body height based on the determined body trajectory and leg trajectory to determine the desired body height based on the solution; and joint angle determining means for determining desired angles of said hip joints, said knee joint and said ankle joint based on said determined body trajectory, said leg trajectory and said determined desired body height. 19. A method for generating a gait of a legged mobile robot having at least a body and a plurality of articulated legs each connected to the body through a first joint and each including a second joint, comprising the steps of: determining a trajectory of body displacement including at least one of desired horizontal body position and orientation, but excluding a desired body height; determining a trajectory of each leg distal end displacement including at least one of desired position and orientation; determining a body height in the direction of gravity by solving an equation comprised of a continuous function of the body height based on the determined body trajectory and leg trajectory to determine the desired body height based on the solution; and determining desired angles of said first and second joints based on said determined body trajectory, said leg trajectory and said determined desired body height. 20. A method according to claim 19, wherein said equation is an equation comprised of a continuous function of the displacement of at least one of said first and second joints. 21. A method according to claim 20, wherein said equation is a symmetric expression established with respect to at least one of said first and second joints. 22. A method according to claim 20, wherein the solution of the continuous function varies monotonically with increasing body height. 23. A method according to claim 21, wherein the solution of the continuous function varies monotonically with increasing body height. 24. A method according to claim 19, wherein at least one of said desired horizontal body position, said desired horizontal body orientation, said desired each leg distal end position and said desired each leg desired distal end orientation is a virtual value. 25. A method according to claim 20, wherein at least one of said desired horizontal body position, said desired horizontal body orientation, said desired each leg distal end position and said desired each leg desired distal end orientation is a virtual value. 26. A method according to claim 19, further comprising the steps of: calculating n (n.gtoreq.1) number of body heights; calculating an average of said solution and said n number of calculated body heights; and determining the desired body height based on the average. 27. A method according to claim 19, further comprising the steps of: calculating n (n.gtoreq.1) number of body heights; calculating an average of said solution and said n number of calculated body heights; and determining the desired body height based on the average. 28. A method according to claim 26, wherein said average is a weighted average. 29. A method according to claim 27, wherein said average is a weighted average. 30. A method according to claim 26, further comprising the steps of: smoothing at least one of said solution and said average. 31. A method according to claim 27, further comprising the steps of: smoothing at least one of said solution and said average. 32. A method according to claim 19, further comprising the step of: determining said solution using a Newton calculation method. 33. A method according to claim 19, further comprising the step: controlling actuators of said first and second joints in response to the desired angles. 34. A method according to claim 19, wherein said legged mobile robot is a biped robot, said first joint is a hip joint and said second joint is a knee joint. 35. A method according to claim 19, wherein said legged mobile robot is a robot having legs more than two, said first joint is a root joint and said second joint is a knee joint. 36. A computer program, embodied on a computer-readable memory, for generating a gait of a legged mobile robot having at least a body and a plurality of articulated legs each connected to the body through a first joint and each including a second joint at a location toward its distal end, said computer program comprising the steps of: determining a trajectory of body displacement including at least one of desired horizontal body position and orientation, but excluding a desired body height; determining a trajectory of each leg distal end displacement including at least one of desired position and orientation; determining a body height by solving an equation comprised of a continuous function of the body height based on the determined body trajectory and leg trajectory to determine the desired body height based on the solution; and determining desired angles of said first and second joints based on said determined body trajectory, said leg trajectory and said determined desired body height. 