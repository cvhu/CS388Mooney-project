A control device for a legged mobile robot, in which a correction manipulated variable of a desired floor reaction force (desired floor reaction force's moment) is subsequently determined based on an error between an actual state quantity, such as a body posture angle, of the robot 1 and a desired state quantity of the same, and at the same time, a desired movement of the robot 1 is subsequently determined by the use of the correction manipulated variable and a dynamic model. At this time, a friction force component, which defines a frictional force between the robot 1 and a floor such as a translation floor reaction force's horizontal component, is set as a variable to be limited, and an allowable range of the variable to be limited is set. The desired movement is determined so that the variable to be limited remains within the allowable range and a resultant force of an inertial force and gravity, generated by the movement of the robot 1 on the dynamic model, balances with a floor reaction force obtained by correcting the desired floor reaction force by the correction manipulated variable. The desired movement is determined by adjusting a plurality of movement modes having mutually different generation ratios of a floor reaction force's moment and a translation floor reaction force.
Claims What is claimed is: 1. A control device for a legged mobile robot that moves by moving legs extending from a body, for successively determining an instantaneous value of a desired movement of the legged mobile robot by the use of a dynamic model representing at least a relation between a movement and a floor reaction force of the robot, and performing movement control of the robot to allow the movement of the robot to follow the determined instantaneous value of the desired movement, the control device comprising: allowable range setting means for setting a allowable range of a variable to be limited, which is at least a horizontal component of a translation floor reaction force or a floor surface parallel component of a translation floor reaction force, acting on the robot, or a total center-of-gravity acceleration or a floor surface parallel component of the total center-of-gravity acceleration of the robot; and desired instantaneous value determining means for determining a new instantaneous value of the desired movement based on at least an error between a desired state quantity of a posture of the robot, which corresponds to the determined instantaneous value of the desired movement, and an actual state quantity of the posture of the robot such that the variable to be limited which is defined based on the dynamic model in accordance with the new instantaneous value, remains within the allowable range. 2. The control device for a legged mobile robot according to claim 1, wherein a movement of the dynamic model includes at least a plurality of movement modes of the robot, the movement modes having mutually different generation ratios of a floor reaction force's moment to the translation floor reaction force, and the desired instantaneous value determining means determines the new instantaneous value of the desired movement by adjusting a plurality of the movement modes of the movement of the dynamic model in accordance with at least the allowable range. 3. The control device for a legged mobile robot according to claim 2, wherein the movement modes include a posture changing movement for changing a posture of a predetermined portion of the robot while maintaining center-of-gravity of the robot almost invariable, and a translation movement of the body of the robot. 4. The control device for a legged mobile robot according to claim 1, comprising means for correcting gait parameters for determining a pattern(s) of a desired floor reaction force and/or the desired movement of the robot after current time, in accordance with at least a state quantity of the dynamic model. 5. The control device for a legged mobile robot according to claim 1, comprising means for successively determining a reference instantaneous value of a desired floor reaction force of the robot, wherein the desired Instantaneous value determining means determines a correction manipulated variable of the desired floor reaction force in accordance with at least the error and the allowable range of the variable to be limited, and also determines the new instantaneous value of the desired movement to permit a resultant force of an inertial force and gravity, generated on the dynamic model by the new instantaneous value of the desired movement, to balance with a floor reaction force obtained by correcting the reference instantaneous value by the correction manipulated variable. 6. The control device for a legged mobile robot according to claim 5, wherein a movement of the dynamic model includes at least a plurality of movement modes of the robot, the movement modes having mutually different generation ratios of a floor reaction force's moment to the translation floor reaction force, and the desired instantaneous value determining means determines the new instantaneous value of the desired movement by adjusting a plurality of the movement modes of the movement of the dynamic model in accordance with at least the allowable range. 7. The control device for a legged mobile robot according to claim 6, wherein the movement modes include a posture changing movement for changing a posture of a predetermined portion of the robot while maintaining center-of-gravity of the robot almost invariable, and a translation movement of the body of the robot. 8. The control device for a legged mobile robot according to claim 7, wherein the desired instantaneous value determining means determines a new desired instantaneous value of the desired movement by preferentially adjusting the translation movement of the body, rather than the posture changing movement, in order to permit the resultant force to balance with the floor reaction force obtained by correcting the reference instantaneous value by the correction manipulated variable of the desired floor reaction force. 9. The control device for a legged mobile robot according to claim 5, comprising means for determining the correction manipulated variable of the desired floor reaction force in accordance with at least the error, the allowable range of the variable to be limited, and a state quantity of the dynamic model. 10. The control device for a legged mobile robot according to claim 5, comprising means for correcting gait parameters for determining a pattern(s) of the desired floor reaction force and/or the desired movement of the robot after current time, in accordance with the correction manipulated variable of the desired floor reaction force used for determining an instantaneous value of the desired movement, and/or a change of a state quantity of the dynamic model by the correction manipulated variable. 11. The control device for a legged mobile robot according to claim 5, comprising: first means for determining a first required manipulated variable of a floor reaction force in accordance with the error so that the error becomes close to zero; second means for determining an actual floor reaction force manipulated variable and the correction manipulated variable of the desired floor reaction force, which define a desired value of an actual floor reaction force of the robot, based on at least the first required manipulated variable; and third means for performing movement control of the robot in accordance with the actual floor reaction force manipulated variable and the instantaneous value of the desired movement. 12. The control device for a legged mobile robot according to claim 11, wherein any one of the first required manipulated variable, the actual floor reaction force manipulated variable, and the correction manipulated variable of the desired floor reaction force is a manipulated variable related to a floor reaction force's moment about a point of action of a floor reaction force, a position of the point of action of the floor reaction force, or a ZMP. 13. The control device for a legged mobile robot according to claim 11, wherein the second means determines the actual floor reaction force manipulated variable and the correction manipulated variable of the desired floor reaction force so that a difference between the actual floor reaction force manipulated variable and the correction manipulated variable of the desired floor reaction force monotonously changes as the first required manipulated variable increases. 14. The control device for a legged mobile robot according to claim 11, wherein the second means determines the actual floor reaction force manipulated variable so that a value obtained by adding the actual floor reaction force manipulated variable to the reference instantaneous value remains within a predetermined actual floor reaction force allowable range. 15. The control device for a legged mobile robot according to claim 14, wherein, when a value obtained by adding the first required manipulated variable to the reference instantaneous value is a value within the predetermined actual floor reaction force allowable range, the second means determines the first required manipulated variable as the actual floor reaction force manipulated variable, and determines the correction manipulated variable of the desired floor reaction force to be almost zero or a value defined in accordance with the state quantity of the dynamic model, and, when the value obtained by adding the first required manipulated variable to the reference instantaneous value deviates from the predetermined actual floor reaction force allowable range, the second means determines a value obtained by subtracting the reference instantaneous value from a limit value of the actual floor reaction force allowable range, as the actual floor reaction force manipulated variable, and determines the correction manipulated variable of the desired floor reaction force in accordance with at least a difference between the actual floor reaction force manipulated variable and the first required manipulated variable. 16. The control device for a legged mobile robot according to claim 14, wherein the second means comprises: means for obtaining provisionally determined values of the actual floor reaction force manipulated variable and the correction manipulated variable of the desired floor reaction force so that a difference between the actual floor reaction force manipulated variable and the correction manipulated variable of the desired floor reaction force becomes at least a value corresponding to the first required manipulated variable; means for obtaining an estimated value of the variable to be limited corresponding to the new instantaneous value of the desired movement when the new instantaneous value of the desired movement is assumed to be determined by the use of the obtained provisionally determined value of the correction manipulated variable of the desired floor reaction force; means for comparing a value obtained by adding the provisionally determined value of the actual floor reaction force manipulated variable to the reference instantaneous value and the estimated value of the variable to be limited, to the predetermined actual floor reaction force allowable range and the allowable range of the variable to be limited, respectively, and determining a group of the actual floor reaction force manipulated variable and the variable to be limited which satisfy limits by the actual floor reaction force allowable range and the allowable range of the variable to be limited, respectively, based on a result of the comparison; and means for determining the correction manipulated variable of the desired floor reaction force based on the variable to be limited and a value obtained by subtracting the first required manipulated variable from the determined actual floor reaction force manipulated variable. 17. The control device for a legged mobile robot according to claim 16, wherein a movement of the dynamic model includes at least a plurality of movement modes having mutually different generation ratios of a floor reaction forces moment to a translation floor reaction force, and the correction manipulated variable of the desired floor reaction force is configured by a plurality of manipulated variables, each corresponds to each of the movement modes. 18. The control device for a legged mobile robot according to claim 11, comprising fourth means for determining a second required manipulated variable of the floor reaction force to permit a state quantity of the dynamic model to be close to a predetermined state quantity in accordance with the state quantity of the dynamic model, wherein the second means determines the actual floor reaction force manipulated variable and the correction manipulated variable of the desired floor reaction force based on at least the first required manipulated variable, the second required manipulated variable, and the allowable range. 19. The control device for a legged mobile robot according to claim 18, wherein any one of the first and second required manipulated variables, the actual floor reaction force manipulated variable and the correction manipulated variable of the desired floor reaction force is a manipulated variable related to a floor reaction force's moment about a point of action of a floor reaction force, a position of the point of action of the floor reaction force, or a ZMP. 20. The control device for a legged mobile robot according to claim 18, wherein the second means determines the actual floor reaction force manipulated variable and the correction manipulated variable of the desired floor reaction force so that a difference between the actual floor reaction force manipulated variable and the correction manipulated variable of the desired floor reaction force monotonously changes as the first required manipulated variable increases. 21. The control device for a legged mobile robot according to claim 18, wherein the second means determines the actual floor reaction force manipulated variable so that a value obtained by adding the actual floor reaction force manipulated variable to the reference instantaneous value remains within a predetermined actual floor reaction force allowable range. 22. The control device for a legged mobile robot according to claim 21, wherein the second means comprises: means for obtaining provisionally determined values of the actual floor reaction force manipulated variable and the correction manipulated variable of the desired floor reaction force so that a difference between the actual floor reaction force manipulated variable and the correction manipulated variable of the desired floor reaction force becomes at least a value corresponding to the first required manipulated variable and that the correction manipulated variable of the desired floor reaction force becomes a value corresponding to the second required manipulated variable; means for obtaining an estimated value of the variable to be limited corresponding to the new Instantaneous value of the desired movement when the new instantaneous value of the desired movement is assumed to be determined by the use of the obtained provisionally determined value of the correction manipulated variable of the desired floor reaction force; means for comparing a value obtained by adding the obtained provisionally determined value of the actual floor reaction force manipulated variable to the reference instantaneous value and the estimated value of the variable to be limited, to the predetermined actual floor reaction force allowable range and the allowable range of the variable to be limited, respectively, and determining a group of the actual floor reaction force manipulated variable and the variable to be limited which satisfy limits by the actual floor reaction force allowable range and the allowable range of the variable to be limited, respectively, based on a result of the comparison; and means for determining the correction manipulated variable of the desired, floor reaction force based on the variable to be limited and a value obtained by subtracting the first required manipulated variable from the determined actual floor reaction force manipulated variable. 23. The control device for a legged mobile robot according to claim 22, wherein a movement of the dynamic model includes at least a plurality of movement modes having mutually different generation ratios of a floor reaction force's moment to a translation floor reaction force, and the correction manipulated variable of the desired floor reaction force is configured by a plurality of manipulated variables, each corresponds to each of the movement modes. 24. The control device for a legged mobile robot according to claim 12, wherein the second means determines the actual floor reaction force manipulated variable and the correction manipulated variable of the desired floor reaction force so that a difference between the actual floor reaction force manipulated variable and the correction manipulated variable of the desired floor reaction force monotonously changes as the first required manipulated variable increases. 25. The control device for a legged mobile robot according to claim 19, wherein the second means determines the actual floor reaction force manipulated variable and the correction manipulated variable of the desired floor reaction force so that a difference between the actual floor reaction force manipulated variable and the correction manipulated variable of the desired floor reaction force monotonously changes as the first required manipulated variable increases. 