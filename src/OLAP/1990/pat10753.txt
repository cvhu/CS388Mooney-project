The image pipeline for a vision system includes a series of digital image processing boards controlled by a computer. A video camera generates from a laser beam reflected from the target surface an RS-170 analog video signal which is converted to a digital signal for processing. Bins of digitizing parameters suitable for several target surface reflectivities are stored in computer memory. The appropriate bin is selected from histogram data of pixel intensity levels generated by one of the image processing boards using digitizing parameters from a reference bin. Improved imaging, especially of black surfaces, is achieved by scanning a laser beam to generate a light stripe over a number of image frames using the digitizing parameters from the selected bin and integrating the data from the successive frames using the image processing boards.
Claims What is claimed is: 1. A vision system which accommodates to varying reflectivities of a target surface, said system comprising: light source means directing a beam of light at the target surface; video camera means having an array of pixels which convert light from said light beam reflected from said target surface into an analog electrical signal representing an image of the light beam on the target surface; analog to digital conversion means converting said analog signal into a digital signal containing digital values corresponding to light intensity at each pixel of said array; means analyzing said digital values and selecting one of at least two levels of a control parameter as a function of said analysis; means responsive to the selected level of said control parameter to adjust said digital value; wherein said analyzing means includes means generating histogram data from said digital values for each pixel; a computer having storage means storing said at least two levels of said control parameter and being programmed to select said one of said levels of said control parameter as a function of said histogram data; said computer storage means including means for storing sets of levels for multiple control parameters and comprising at least two bins, each bin storing a selected level for each of said multiple parameters; and wherein one of said multiple control parameters is a threshold level for said digital values and wherein said computer is programmed to select a bin using histogram data. 2. The system of claim 1 wherein said computer storage means stores a reference level for said control parameter in addition to said at least two levels, and wherein said computer is programmed to select said reference level for said control parameter to adjust the level of said digital values generating said histogram data. 3. The system of claim 2 wherein said means responsive to the selected level of the control parameter is variable gain means which adjusts a gain applied to the analog signal, and wherein said control parameter is the gain of said variable gain means. 4. The system of claim 3 wherein said computer storage means stores a reference level for said gain of said variable gain means and wherein said computer is programmed to select said reference level for said gain to adjust the magnitude of the analog signal converted to said digital values used in generating said histogram data. 5. The system of claim 1 wherein said means responsive to the selected level of the control parameter is an offset circuit which adjusts an offset applied to the analog signal converted into said digital signal, and wherein said control parameter is said offset. 6. The system of claim 5 wherein said computer storage means includes means storing a reference level for said offset and wherein said computer is programmed to select said reference level for said offset applied to the analog signal converted to said digital values used in generating said histogram data. 7. The system of claim 1 wherein said computer is programmed to select the set of levels for said multiple parameters in one of said bins as a function of the histogram data and including means responsive to the selected level of each of said control parameters to adjust said digital values. 8. The system of claim 7 wherein one of said multiple parameters is gain and wherein said means responsive to the selected parameters includes gain means applying the selected gain to said analog electrical signal. 9. The system of claim 8 wherein another of said multiple parameters is offset and wherein said means responsive to the selected levels of said control parameters includes offset circuit means applying said offset to said analog electrical signal. 10. The system of claim 9 wherein still another of said multiple control parameters is threshold and wherein said means responsive to the level of the selected parameters includes means selecting pixels as representing said reflected light image, those pixels having a digital value above the selected threshold. 11. The system of claim 7 wherein said computer storage means includes a reference bin storing a set of reference levels for said multiple control parameter, and wherein said computer is programmed to select said reference levels for said control parameters to adjust the level of said digital values used in generating said histogram data. 12. The system of claim 11 wherein said computer is programmed to select said bin using histogram data by determining a count of pixels having digital values above a reference threshold level and selecting a bin based upon said count. 13. A system of claim 12 wherein another of said multiple control parameters is a fill level and wherein said computer is programmed to select a bin based upon said total count by selecting the bin having the highest fill count which is not exceeded by said total count. 14. The system of claim 13 wherein said multiple control parameters include gain and offset and wherein said means responsive to the selected levels of said control parameters include gain means applying the selected gain to the analog electrical signal and offset circuit means applying the selected offset to the analog electrical signal. 15. The system of claim 13 wherein said computer is programmed following selection of said at least one of two bins of parameters to generate an image using pixels having digital values above the threshold level in the selected bin. 16. The system of claim 15 wherein said video camera means converts reflected light into an analog signal representing successive frames of the image of the light beam on the target surface, wherein said light source means advances said light beam across said target surface over a period of several of said frames, and including time integrating means integrating said digital values for said several frames to generate composite digital values, and wherein said computer is programmed following selection of one of said at least two bins of parameters to generate said image using pixels having composite digital values above said threshold level in the selected bin. 17. The system of claim 16 wherein said computer is programmed to, at selected points in the advance of said light beam across said target surface, reselect one of said at least two bins of parameters using said parameters in said reference bin. 18. A vision system comprising: light source means directing a beam of light at a target surface; video camera means having an array of pixels converting light from said light beam reflected from the target surface into an analog electrical signal representing successive frames of an image of the light beam on said target surface; means advancing said light beam across said target surface over a period of several frames to draw a stripe on said target surface; analog to digital conversion means converting said analog signal into a digital signal containing digital values corresponding to light intensity at each pixel in said array for each frame; time integrating means integrating the digital values of said digital signal for each pixel for said several frames to generate composite digital values for each pixel; means for selecting a threshold value of said composite digital values as a function of a level of reflectivity associated with said target surface, said selecting means selecting a particular threshold value from at least two possible threshold values depending on such level of reflectivity; and processing means identifying pixels having composite digital values above said selected threshold value as representing the stripe on said target surface. 19. The system of claim 18 wherein said time integrating means comprises for each pixel a save buffer, and means adding digital value of said digital signal for each successive frame to the contents of the save buffer for each frame and storing the sum in the save buffer as said composite digital value. 20. The system of claim 18 including means generating histogram data from said digital values for each pixel for a reference frame and a digital computer having memory means storing said at least two threshold values. 21. The system of claim 20 wherein said memory means stores a reference threshold level in addition to said at least two levels and wherein said digital computer is further programmed to select said reference threshold level as said selected level for said reference frame and is programmed to select one of said at least two threshold levels as a function of the histogram data generated using the reference threshold level. 22. The system of claim 20 wherein said memory means includes a plurality of bins each storing a value for said threshold level and a value for a gain, and wherein said computer is further programmed to select the threshold level and the gain level from a selected bin as a function of said histogram data, and including means for applying the selected gain level to said analog electrical signal. 23. The system of claim 22 wherein said memory means includes bins each storing an offset level in addition to a threshold level and a gain level and wherein said computer is programmed to select the offset level from the selected bin as well as the threshold level and gain level as a function of the histogram data and including offset circuit means applying the selected offset to said analog electrical signal. 