A method and apparatus for controlling a hydraulic manipulator defines a position error signal (.theta..sub.e), defining a first control signal (U.sub.P, U.sub.PD) based on the position error (.theta..sub.e) and generating an improved position error integral signal (.theta..sub.I) based on a product of the position error (.theta..sub.e) integral signal and a velocity factor F.sub.V. The velocity factor F.sub.V is based on a derivative of the position error (.theta..sub.e) and a nonlinear function. An integral control signal (U.sub.I) is produced based on the improved position error integral signal (.theta..sub.I) and is combined with the first signal (U.sub.P, U.sub.PD) to provide an output control signal U to control the manipulator. The invention also preferably includes a system to further reduce overshoot by further modifying the position error signal (.theta..sub.e) depending on whether the velocity and acceleration of position are in the same direction and to accommodate stiction at deadband areas of the control by determining a stick induced velocity error signal (.theta..sub.e.sup.stiction) and modifying the control signal when required.
Claims We claim: 1. An improved position controller for a hydraulic manipulator comprising means for generating a position error signal (.theta..sub.e), proportional-derivative controller means to define a first control signal (U.sub.P, U.sub.PD), means for determining a velocity factor F.sub.V based on a derivative of said position error signal (.theta..sub.e) and a nonlinear function, means for generating an improved position error integral signal (.theta..sub.I) based on the product of said position error signal and said velocity factor F.sub.V, means to provide an integral control signal (U.sub.I) based on said improved position error integral signal (.theta..sub.I) and means for combining said integral control signal (U.sub.I) with said first control signal (U.sub.P, U.sub.PD) to provide an output control signal U to control said manipulator. 2. An improved position controller for a hydraulic manipulator as defined in claim 1 wherein said means for generating a positional error signal (.theta..sub.e) comprises, means to input a desired position (.theta..sub.d), means to determine a then current actual position of said manipulator (.theta..sub.a), means for subtracting said then current actual position of said manipulator (.theta..sub.a) from said desired position (.theta..sub.d), to provide said position error signal (.theta..sub.e). 3. An improved controller for a hydraulic manipulator as defined in claim 2 wherein said velocity factor will be ##EQU8## where: .alpha.=constant having a value of ##EQU9## where: .alpha..sub.max =at least 8000 deg..sup.2 /s.sup.2 for most hydraulically-driven revolute arms, and 20 m.sup.2 /s.sup.2 for most hydraulically-driven prismatic arms .theta..sub.e =velocity error base on the position error .theta..sub.e .vertline..theta..sub.d .vertline.=absolute desired velocity .theta..sub.max =a maximum set-point for velocity and will be 10 deg./s for most heavy duty hydraulic applications having revolute joints and 0.2 m/s for most heavy-duty hydraulic applications having prismatic joints. 4. An improved position controller for a hydraulic manipulator as defined in claim 3 wherein said controller further includes means for determining a stiction signal (.theta..sub.e.sup.stiction) based on a desired velocity .theta..sub.d derived from a derivative of said desired position (.theta..sub.d), means for determining whether said stiction signal (.theta..sub.e.sup.stiction) is within a selected range, and increasing the integral control signal U.sub.I to ensure the output control signal U is at least equal to U.sub.L or U.sub.U, wherein U.sub.L is an empirically set value for movement in one direction of sufficient magnitude to ensure the output signal is sufficient to overcome stick induced deadband in the system, and U.sub.U is an empirically set value for movement in a direction opposite to said one direction of sufficient magnitude to ensure the output signal is sufficient to overcome stick induced deadband in the system. 5. An improved position controller for a hydraulic manipulator as defined in claim 4 wherein said means for determining of said stiction signal (.theta..sub.e.sup.stiction) further includes means for determining the derivative of said current actual position (.theta..sub.a), to provide an actual velocity error signal .theta..sub.a and means for determining said stiction signal (.theta..sub.e.sup.stiction) based on the function ##EQU10## where: .beta.=a constant having a value of between 5 and 500 for most heavy-duty hydraulic applications. 6. An improved position controller for a hydraulic manipulator as defined in claim 2 further comprising means to modify said position error signal (.theta..sub.e), means to compare directions of first and second derivatives of said desired position (.theta..sub.d) and means to adjust the value of the position error signal (.theta..sub.e) modified only when the first and second derivatives have different signs by adding a modifying signal (.theta..sub.G), proportional to desired acceleration, to the position error signal (.theta..sub.e) to provide a modified position error signal (.theta..sub.m) that is used to replace said position error signal (.theta..sub.e) in defining said integral control signal (U.sub.I). 7. An improved position controller for a hydraulic manipulator as defined in claim 2 wherein said controller further includes means for determining a stiction signal (.theta..sub.e.sup.stiction) based on a desired velocity .theta..sub.d derived from a derivative of said desired position (.theta..sub.d), means for determining whether said stiction signal (.theta..sub.e.sup.stiction) is within a selected range, and increasing the integral control signal U.sub.I to ensure the output control signal U is at least equal to U.sub.L or U.sub.U. 8. An improved position controller for a hydraulic manipulator as defined in claim 7 wherein said means for determining of said stiction signal (.theta..sub.e.sup.stiction) further includes means for determining the derivative of said current actual position (.theta..sub.a), to provide an actual velocity error signal (.theta..sub.a) and means for determining said stiction signal (.theta..sub.e.sup.stiction) based on the function ##EQU11## where: .beta.=a constant having a value of between 5 and 500 for most heavy-duty hydraulic applications. 9. An improved position controller for a hydraulic manipulator as defined in claim 1 wherein said velocity factor will be ##EQU12## where: .alpha.=constant having a value of at least 8 deg.sup.2 /s.sup.2 for revolute joints and 0.02 m.sup.2 /s.sup.2 for prismatic joints. 10. An improved position controller for a hydraulic manipulator as defined in claim 9 further comprising means to modify a position error signal (.theta..sub.e), means to compare directions of first and second derivatives of a desired position (.theta..sub.d) and means to adjust the value of the position error signal (.theta..sub.e) modified only when the first and second derivatives have different signs by adding a modifying signal (.theta..sub.G), proportional to desired acceleration, to the position error signal (.theta..sub.e) to provide a modified position error signal (.theta..sub.m) that is used to replace said position error signal (.theta..sub.e) in defining said integral control signal (U.sub.I). 11. An improved position controller for a hydraulic manipulator as defined m claim 1 further comprising means to modify a position error signal (.theta..sub.e), means to compare directions of first and second derivatives of a desired position (.theta..sub.d) and means to adjust the value of the position error signal (.theta..sub.e) modified only when the first and second derivatives have different signs by adding a modifying signal (.theta..sub.G), proportional to desired acceleration, to the position error signal (.theta..sub.e) to provide a modified position error signal (.theta..sub.m) that is used to replace said position error signal (.theta..sub.e) in defining said integral control signal (U.sub.I). 12. A method of controlling a hydraulic manipulator comprising defining a position error signal (.theta..sub.e), defining a first control signal (U.sub.P, U.sub.PD) based on said position error signal .theta..sub.e and derivative of it, generating an improved position error integral signal (.theta..sub.I) base on a product of said position error signal and a velocity factor F.sub.V, said velocity factor F.sub.V being based on a derivative of said position error signal (.theta..sub.e) and a nonlinear function, providing integral control signal (U.sub.I) based on said improved position error integral signal (.theta..sub.I) and combining said integral control signal (U.sub.I) with said first control signal (U.sub.P, U.sub.PD) to provide an output control signal U to control said manipulator. 13. A method as defined in claim 12 wherein said defining a position error signal (.theta..sub.e) comprises, inputting a desired position (.theta..sub.d), determining a then current actual position of said manipulator (.theta..sub.a), subtracting said then current actual position of said manipulator (.theta..sub.a) from said desired position (.theta..sub.d), to provide said position error signal (.theta..sub.e). 14. A method as defined in claim 13 wherein said velocity factor will be ##EQU13## where: .alpha.=a constant having a value of at least 8 deg.sup.2 /s.sup.2 for revolute joints and 0.02 m.sup.2 /s.sup.2 for prismatic joints. 15. A method as defined in claim 14 further comprising modifying said position error signal (.theta..sub.e) by determining first and second derivatives of said desired position (.theta..sub.d), comparing directions of said first and second derivatives and adjusting the value of said position error signal (.theta..sub.e) only when the first and second derivatives have different signs by adding a modifying signal (.theta..sub.G), proportional to desired accelerations to the position error signal (.theta..sub.e) to provide a modified position error signal (.theta..sub.m) to be used to replace said position error signal (.theta..sub.e) in defining said integral control signal (U.sub.I). 16. A method as defined in claim 15 wherein further including determining a stiction signal (.theta..sub.e.sup.stiction) based on a desired velocity .theta..sub.d derived from a derivative of said desired position (.theta..sub.d), determining whether said stiction signal (.theta..sub.e.sup.stiction) is within a selected range, and increasing said integral control signal U.sub.I to ensure the output control signal U is at least equal to U.sub.L or U.sub.U, wherein: U.sub.L is an empirically set value for movement in one direction of sufficient magnitude to ensure the output signal is sufficient to overcome stick induced deadband in the system, and U.sub.U is an empirically set value for movement in a direction opposite to said one direction of sufficient magnitude to ensure the output signal is sufficient to overcome stick induced deadband in the system. 17. A method as defined in claim 16 wherein said determining of said stiction signal (.theta..sub.e.sup.stiction) further includes determining the derivative of said current actual position (.theta..sub.a), to provide an actual velocity error signal .theta..sub.a and determining said stiction signal (.theta..sub.e.sup.stiction) based on the function ##EQU14## where: .beta.=a constant having a value of between 5 and 500 for most heavy-duty hydraulic functions. 18. A method as defined in claim 12 wherein said velocity factor will be ##EQU15## where: .alpha.=constant having a value of ##EQU16## where: .alpha..sub.max =at least 8000 deg..sup.2 /s.sup.2 for most hydraulically-driven revolute arms, and 20 m.sup.2 /s.sup.2 for most hydraulically-driven prismatic arms .theta..sub.e =velocity error base on the position error .theta..sub.e .vertline..theta..sub.d .vertline.=absolute desired velocity .theta..sub.max =a maximum set-point for velocity and will be 10 deg./s for most heavy duty hydraulic applications having revolute joints and 0.2 m/s for most heavy-duty hydraulic applications having prismatic joints. 19. A method as defined in claim 18 further comprising modifying said position error signal (.theta..sub.e) by determining first and second derivatives of a desired position (.theta..sub.d), comparing directions of said first and second derivatives and adjusting the value of said position error signal (.theta..sub.e) only when the first and second derivatives have different signs by adding a modifying signal (.theta..sub.G), proportional to desired accelerations to the position error signal (.theta..sub.e) to provide a modified position error signal (.theta..sub.m) to be used to replace said position error signal (.theta..sub.e) in defining said integral control signal (U.sub.I). 20. A method as defined in claim 19 wherein further including determining a stiction signal (.theta..sub.e.sup.stiction) based on a desired velocity .theta..sub.d derived from a derivative of said desired position (.theta..sub.d), determining whether said stiction signal (.theta..sub.e.sup.stiction) is within a selected range, and increasing the integral control signal U.sub.I to ensure the output control signal U is at least equal to U.sub.L or U.sub.U, wherein: U.sub.L is an empirically set value for movement in one direction of sufficient magnitude to ensure the output signal is sufficient to overcome stick induced deadband in the system, and U.sub.U is an empirically set value for movement in a direction opposite to said one direction of sufficient magnitude to ensure the output signal is sufficient to overcome stick induced deadband in the system. 