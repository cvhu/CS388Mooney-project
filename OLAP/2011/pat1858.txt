In a first exemplary embodiment of the present invention, an automated, computerized method is provided for determining an illumination field in an image. The method comprises the steps of identifying uniform and linear tokens in the image and utilizing the uniform and linear tokens to identify an illumination field.
Claims What is claimed is: 1. An automated, computerized method for determining an illumination field in an image, comprising the steps of: a computer executing the following steps: providing an image file depicting the image, in a computer memory; automatically identifying linear tokens in the image of the image file by testing each pixel of the image to determine a linear token relationship between the pixel and neighboring pixels in the image, each one of the linear tokens defining a connected region of the image having colors extending as a cylinder in a color space, from a dark end to a light end, along a positive slope and corresponding to a single material depicted in the image, according to a bi-illuminant dichromatic reflection model; and utilizing the linear tokens to identify an illumination field. 2. The method of claim 1 wherein the step of identifying linear tokens is carried out by testing a local area around a selected pixel to determine the formation of a linear segment forming a cylinder in RGB space. 3. The method of claim 1 wherein the step of identifying linear tokens includes filtering each identified linear token for confirmation each such linear token corresponds to an illumination change in the image. 4. The method of claim 1, wherein the step of utilizing the linear tokens to identify an illumination field is carried out by clustering linear tokens of an image into token groups and calculating a material color for each token group. 5. The method of claim 4 wherein the step of clustering linear tokens of an image into token groups and calculating a material color for each token group is carried out by calculating a BIDR cylinder for a token group. 6. An automated, computerized method for determining a shadow in an image, comprising the steps of: a computer executing the following steps: providing an image file depicting the image, in a computer memory; calculating a characteristic spectral ratio for the image as a function of incident illuminant and ambient illuminant characteristics of the image; and utilizing the characteristic spectral ratio to identify a shadow in the image by testing shadow candidate pixels of the image in a ratio matching to neighboring pixels of the image relative to the characteristic spectral ratio. 7. The method of claim 6 wherein the step of utilizing the characteristic spectral ratio to identify a shadow in the image is carried out by comparing a spectral ratio for a preselected dark/bright pixel pair to the characteristic spectral ratio for a match. 8. The method of claim 6 wherein the step of utilizing the characteristic spectral ratio to identify a shadow in the image is carried out by comparing a spectral ratio for a preselected token pair to the characteristic spectral ratio for a match. 9. An automated, computerized method for determining a material edge in an image, comprising the steps of: a computer executing the following steps: providing an image file depicting the image, in a computer memory; calculating an illumination gradient for the image as a function of a linear token, the linear token being automatically identified by testing a pixel of the image to determine a linear token relationship between the pixel and neighboring pixels in the image and defining a connected region of the image having colors extending as a cylinder in a color space, from a dark end to a light end, along a positive slope and corresponding to a single material depicted in the image, according to a bi-illuminant dichromatic reflection model; and utilizing the illumination gradient to identify a material edge in the image. 10. A computer program product, disposed on a non-transitory computer readable media, the product including computer executable process steps operable to control a computer to: provide an image file depicting the image, in a computer memory; automatically identify linear tokens in the image of the image file by testing each pixel of the image to determine a linear token relationship between the pixel and neighboring pixels in the image, each one of the linear tokens defining a connected region of the image having colors extending as a cylinder in a color space, from a dark end to a light end, along a positive slope and corresponding to a single material depicted in the image, according to a bi-illuminant dichromatic reflection model; and utilize the linear tokens to identify an illumination field. 11. A computer program product, disposed on a non-transitory computer readable media, the product including computer executable process steps operable to control a computer to: provide an image file depicting the image, in a computer memory; calculate a characteristic spectral ratio for the image as a function of incident illuminant and ambient illuminant characteristics of the image; and utilize the characteristic spectral ratio to identify a shadow in the image by testing shadow candidate pixels of the image in a ratio matching to neighboring pixels of the image relative to the characteristic spectral ratio. 12. A computer program product, disposed on a non-transitory computer readable media, the product including computer executable process steps operable to control a computer to: provide an image file depicting the image, in a computer memory; calculate an illumination gradient for the image as a function of a linear token, the linear token being automatically identified by testing a pixel of the image to determine a linear token relationship between the pixel and neighboring pixels in the image and defining a connected region of the image having colors extending as a cylinder in a color space, from a dark end to a light end, along a positive slope and corresponding to a single material depicted in the image, according to a bi-illuminant dichromatic reflection model; and utilize the illumination gradient to identify a material edge in the image. 