A method for concurrent data migration includes classifying files to be migrated into plural jobs, selecting media to which to migrate each job, and using plural drives concurrently to write the jobs to the media. The selection of a medium is performed in a way that prevents the number of writeable media from exceeding the number of available drives, unless no allocated medium has sufficient space to store any files in a migration job. A medium is preferentially selected that has already been allocated for writing, has space to store at least one file in the job, is not in use for another job, and can be robotically mounted on a drive. If such a medium does not exist, then the set of available media is canvassed to locate an alternative medium. The attributes of each medium are evaluated to determine which medium can be selected most consistently with the goals of (1) preventing the number of media from exceeding the number of drives, and (2) providing sufficient media to allow plural drives to be used concurrently. The technique can be embodied in a file management environment that transparently migrates files meeting certain criteria and stores the location of the migrated file in a reparse point provided by the file system.
Claims What is claimed: 1. A system comprising a processor, for storing data on media, the system comprising: a media management module, residing on the processor, which communicates with a database that stores attributes of a plurality of media, and which selects media for writing in accordance with the attributes stored in said database, said media management module designating a quantity of said plurality of media as being in a writable state, said quantity being equal to a concurrency value; and a migration module which communicates with a storage device, said storage device including a plurality of drives which write data to said media, said migration module receiving an indication of a selected medium from said media management module and writing data to the selected medium using said storage device, said plurality of media comprising double-sided media, each side of said media being designatable as being in either a writeable state or a non-writeable state, and the media management module further comprises logic which selects a medium based on which of said plurality of media has a side in the non-writeable state. 2. The system of claim 1, further comprising: a selection module which communicates with a data object storage system and which selects data objects from said data object storage system to be written to said media. 3. The system of claim 1, wherein said selection module selects data objects based on the time said data objects were most recently accessed. 4. The system of claim 1, further comprising: a persistence module which receives from said migration module the location at which said data is stored on said media, and which stores the location of said data in a memory location. 5. The system of claim 1, wherein said concurrency value is equal to the number of drives in said storage device. 6. The system of claim 1, wherein said storage device comprises a library which stores media and a robotic mechanism which mounts media stored in said library on said drives, and wherein said media management module further comprises logic which selects a medium based on which of said plurality of media is located in the library. 7. A method for storing data on media, the method comprising: determining to store data, the data comprising a plurality of files; determining a concurrency value, the concurrency value being a maximum number of a plurality of media that may be written to concurrently; determining that the concurrency value is greater than a number of the plurality of media currently being written to; determining a medium of a plurality of computer-readable storage media based on attributes of the plurality of media stored in a database, the medium not being currently written to; writing the data to the medium; storing an indication of an offset of the data within the medium; storing an indication of an offset of a first file of the plurality of files within the data within the medium; storing an indication of the medium; and retrieving the first file based on the offset of the data within the medium, the offset of the first file within the data, and the indication of the medium. 8. The method of claim 7, wherein the concurrency value is less than the number of media in the plurality of computer-readable storage media. 9. A computer-readable storage medium bearing computer-readable instructions that, when executed on a computer, cause the computer to perform operations comprising: determining to perform a first job, the first job comprising storing data in one of a plurality of storage media; determining a concurrency value, the concurrency value being a maximum number of jobs that may be performed concurrently; determining that the concurrency value is greater than a number of jobs being performed concurrently; incrementing the number of jobs being performed concurrently; determining a first medium of the plurality of storage media based on attributes of the plurality of storage media stored in a database by determining that the first side of the medium is not free, and by determining that the medium ID of the second side is not stored in the database; performing the first job with the first medium the first medium having a first side and second side, each of the first side and the second side having a medium ID; and decrementing the number of jobs being performed concurrently. 10. The computer-readable storage medium of claim 9, further bearing computer-readable instructions that, when executed on the computer, cause the computer to perform operations comprising: changing the concurrency value. 11. The computer-readable storage medium of claim 9, wherein determining a first medium of the plurality of storage media based on attributes of the plurality of storage media stored in a database comprises: determining the first medium of the plurality of storage medium based on the first medium to be non-busy, readable and writeable, and to have sufficient free space to store the first job. 12. The computer-readable storage medium of claim 11, wherein determining a first medium of the plurality of storage media based on attributes of the plurality of storage media stored in a database comprises: Determining the first medium of the plurality of storage medium based on the first medium to be allocated and near-line. 13. The computer-readable storage medium of claim 9, wherein performing the first job with the first medium comprises: performing the first job with the second side of the first medium. 