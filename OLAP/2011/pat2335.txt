A robotic surgical system has a robot arm holding an instrument for performing a surgical procedure, and a control system for controlling movement of the arm and its instrument according to user manipulation of a master manipulator. The control system includes a filter in its forward path to attenuate master input commands that may cause instrument tip vibrations, and an inverse filter in a feedback path to the master manipulator configured so as to compensate for delay introduced by the forward path filter. To enhance control, master command and slave joint observers are also inserted in the control system to estimate slave joint position, velocity and acceleration commands using received slave joint position commands and torque feedbacks, and estimate actual slave joint positions, velocities and accelerations using sensed slave joint positions and commanded slave joint motor torques.
Claims We claim: 1. In a controller for controlling movement of a robotic arm assembly in response to user manipulation of a master manipulator, a control system for controlling rotation of a slave joint of the robotic arm assembly, the control system comprising: a filter in a forward control path defined as being from the master manipulator to a motor coupled to the slave joint, wherein the filter attenuates frequency content of a joint position command generated from user manipulation of the master manipulator so that vibrations experienced at a tip of a surgical instrument held by the robotic arm assembly are reduced; and an inverse filter in a feedback path defined as being from a slave joint sensor to the master manipulator, wherein the slave joint sensor senses movement of the slave joint and the inverse filter provides a phase lead in the feedback path so as to at least partially compensate for a phase lag caused by the filter. 2. The control system according to claim 1, wherein the filter is implemented so that a Laplace transform of the filter has an equal number of dominant poles and dominant zeroes, and attenuates the a high frequency band. 3. The control system according to claim 1, wherein the filter has a notch filter characteristic that significantly attenuates vibrations at a resonant frequency of the robotic arm assembly. 4. The control system according to claim 1, wherein the filter is implemented so that a Laplace transform of the filter has an equal number of dominant poles and dominant zeroes. 5. The control system according to claim 1, wherein the filter and inverse filter are digitally implemented as state space representations. 6. The control system according to claim 5, further comprising: a slave joint observer for generating estimated values for a current position, velocity and acceleration of the joint using a joint position value indicated by the joint sensor and a torque command to the motor. 7. The control system according to claim 5, wherein the slave joint observer has a disturbance observer structure and the outputs of the slave joint observer further includes an estimated value for an external torque applied to the slave joint. 8. The control system according to claim 6, wherein the filter generates filtered values for the joint position command, and filtered values for joint velocity and acceleration commands generated using the joint position command. 9. The control system according to claim 8, wherein a command to drive the motor is generated using differences between corresponding outputs of the filter and the slave joint observer. 10. The control system according to claim 6, wherein the inverse filter generates inverse filtered values using the outputs of the slave joint observer. 11. The control system according to claim 10, further comprising: a master command observer for generating estimated joint position, velocity, and acceleration commands using the joint position command and a force feedback indication for the master manipulator. 12. The control system according to claim 11, wherein the master command observer has a disturbance observer structure, and further generates the force feedback indication. 13. The control system according to claim 12, wherein the force feedback indication is indicative of differences between corresponding outputs of the inverse filter and the master command observer. 14. A method for controlling the movement of a slave joint in a robotic arm assembly, comprising: generating filtered position, velocity and acceleration slave joint commands so as to command movement of the slave joint while reducing vibrations experienced on a tip of a surgical instrument held by the robotic arm assembly; generating a motor command signal using the filtered position, velocity and acceleration slave joint commands; providing the motor command signal to a motor coupled to the slave joint; receiving sensed positions of the slave joint; generating estimated positions, velocities and accelerations of the slave joint using the sensed positions of the joint and the slave motor command signal; and updating the slave motor command signal using a function of the differences between corresponding of the filtered position, velocity and acceleration slave joint commands and the estimated positions, velocities and accelerations of the slave joint; generating filtered estimated positions, velocities and accelerations of the slave joint to at least partially compensate for any delay caused by the filtering of the position, velocity and acceleration controlling the movement of the slave joint. 15. The method according to claim 14, further comprising: generating a master feedback signal using differences between corresponding of estimated position, velocity and acceleration slave joint commands and the filtered estimated positions, velocities and accelerations of the slave joint. 16. The method according to claim 15, further comprising: generating the estimated position, velocity and acceleration joint commands using a joint position command generated from user manipulation of a master manipulator and the master feedback signal. 17. A method for reducing vibrations on a tip of a surgical instrument held by a robotic arm assembly without degrading stability of a control system controlling movement of a slave joint of the robotic arm assembly, the method comprising: attenuating a first signal indicating slave joint position commands generated from user manipulation of a master manipulator at frequencies beyond a cut-off frequency so that vibrations on the tip of the surgical instrument held by the robotic arm assembly are reduced at those frequencies; and amplifying a second signal indicating a position of the slave joint at frequencies above the cut-off frequency while providing phase lead to the second signal so as to at least partially compensate for delay caused by the attenuation of the first signal and stably generate a feedback signal provided to the master manipulation. 