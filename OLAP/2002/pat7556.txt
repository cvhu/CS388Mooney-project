A method generates a detail directed hierarchical representation of a distance field that is enclosed by a bounding box. The method begins by partitioning the bounding box enclosing the distance field into cells. Each cell has a size corresponding to detail of the distance field and a location with respect to the bounding box. Next, the distance field is sampled to obtain a set of values of the distance field for each cell. A method for reconstructing the portion of the distance field enclosed by the cell is specified for each cell. The location and size, the set of values, and the method for reconstructing for each cell are stored in a memory to enable reconstruction of the distance field by applying the reconstruction methods of the cells to the values.
Claims We claim: 1. A method for generating a detail directed hierarchical representation of a distance field enclosed by a bounding box, comprising the steps of: partitioning the enclosed distance field into a plurality of cells, each cell having a size corresponding to detail of the distance field and a location with respect to the bounding box; sampling, for each cell, a set of values of the enclosed distance field; specifying, for each cell, a method for reconstructing the distance field enclosed by the cell; and storing, for each cell, the size, the location, the set of values, and the method for reconstructing in a memory to enable reconstruction of the distance field by applying the reconstruction methods of the cells to the values. 2. The method of claim 1 wherein the size of each cell is specified by vertices of the cell, and the location of the cell is specified by vertices of the cell and the vertices of the bounding box. 3. The method of claim 1 wherein the detail of the distance field is determined by a gradient of the distance field. 4. The method of claim 1 wherein the method for reconstructing is identical for all cells. 5. The method of claim 1 wherein the method for reconstructing a particular cell depends on the set of values of the particular cell. 6. The method of claim 2 wherein the distance field is sampled at the vertices of the cells. 7. The method of claim 1 wherein the distance field, the bounding box, and the cells are two-dimensional. 8. The method of claim 1 wherein the distance field, the bounding box, and the cells are three-dimensional. 9. The method of claim 1 wherein each cell is identically shaped. 10. The method of claim 1 wherein each cell is square. 11. The method of claim 1 wherein each cell is a N-dimensional rectangular solid. 12. The method of claim 1 wherein each cell is a N-dimensional polyhedron. 13. The method of claim 1 wherein the cells fully populate the bounding box. 14. The method of claim 1 wherein a particular value is a signed distance to a surface of an object. 15. The method of claim 14 wherein a particular value is a closest distance to the surface of an object. 16. The method of claim 14 wherein the detail of the distance field is determined by a degree of curvature of the surface of an object. 17. The method of claim 1 wherein the size, the location, the method for reconstructing, and the values associated with each cell are stored in a memory as a tree. 18. The method of claim 17 wherein each cell is two-dimensional and the tree is a quadtree. 19. The method of claim 17 wherein each cell is three-dimensional and the tree is a octree. 20. The method of claim 18 and 19 wherein the bounding box is represented in the tree as a root cell and the cells are descendant nodes of the root cell. 21. The method of claim 1 wherein the values include signed distances to a surface of an object, and further comprising the steps of: identifying cells entirely outside the object as exterior cells; identifying cells entirely inside the object as interior cells; and identifying cells intersecting the surface of the object as surface cells. 22. The method of claim 1 wherein a particular method for reconstructing is a linear function. 23. The method of claim 1 wherein a particular method for reconstructing is a quadratic function. 24. The method of claim 1 wherein a particular method for reconstructing is a cubic function. 25. The method of claim 1 wherein a particular method for reconstructing is a filter function. 26. The method of claim 1 wherein the values include a signed distance to a surface of an object, the surface including detail, and further comprising the step of: specifying the method of reconstruction according to particular surface detail. 27. The method of claim 26 wherein the particular surface detail is a corner of the surface. 28. The method of claim 26 wherein the particular surface detail is a rounded corner. 29. The method of claim 26 wherein the particular surface detail is an edge. 30. The method of claim 26 wherein the particular surface detail is a spike. 31. The method of claim 1 wherein the values include a signed distance to a surface of an object, and a distance metric is a Euclidean distance. 32. The method of claim 1 wherein the values include a signed distance to a surface of an object, and a distance metric is a squared Euclidean distance. 33. The method of claim 1 wherein the values include a signed distance to a surface of an object, and a distance metric is a Manhattan distance. 34. The method of claim 1 wherein the values include a signed distance to a surface of an object, and a distance metric is a chessboard distance. 35. The method of claim 1 wherein the values include a signed distance to a surface of an object, and a distance metric is a single-valued N-dimensional function. 36. The method of claim 1 wherein the size, the location, the method for reconstructing, and the set of values associated with each cell are stored in a memory as a linked list. 37. The method of claim 1 wherein a particular value of the set includes a gradient of the distance field. 38. The method of claim 1 wherein a particular value of the set includes a partial derivative of the distance field. 39. The method of claim 1 wherein a particular value of the set includes a signed distance to a surface of an object, and further comprising the step of: associating appearance parameters of the object with each cell. 40. The method of claim 39 wherein the appearance parameters include color, shininess, transparency, and texture coordinates of the object. 41. The method of claim 1 wherein the values include signed distances to a surface of an object, and further comprising the step of: associating computational characteristics of the object with each cell. 42. The method of claim 41 wherein the computational characteristics include elasticity, Young's modulus, and density. 43. The method of claim 41 wherein the computational characteristics are used to simulate rigid body mechanics of the object. 44. The method of claim 41 wherein the computational characteristics are used to simulate dynamic deformation of the object. 45. The method of claim 1 wherein the values include signed distances to a surface of an object, and further comprising the steps of: measuring a difference between an attribute of the surface of the object represented by a particular cell and a corresponding attribute of the surface according to the distance field; and storing the difference as a surface representation error with the particular cell. 46. The method of claim 45 wherein the difference includes a difference in distances. 47. The method of claim 45 wherein the difference includes a difference in appearance parameters. 48. The method of claim 1 further comprising the steps of: selecting a point in the bounding box; identifying a particular cell enclosing the selected point; and evaluating the reconstruction method of the particular cell at the point with the set of values of the particular cell to reconstruct the distance field at the selected point. 49. The method of claim 1 wherein the partitioning further comprises the steps of: partitioning, in a top-down manner, the bounding box such that each partitioning yields smaller sized cells until a portion of the distance field enclosed by each cell can substantially be reconstructed by the method for reconstructing to a predetermined surface representation error. 50. The method of claim 49 wherein each progressive partitioning yields equal sized cells. 51. The method of claim 49 wherein a point based method determines whether to further partition a particular cell. 52. The method of claim 49 wherein a cell based method determines whether to further partition a particular cell. 53. The method of claim 49 wherein a gradient based method determines whether to further partition a particular cell. 54. The method of claim 49 wherein a detail based method determines whether to further partition a particular cell. 55. The method of claim 1 wherein the partitioning further comprises the steps of: partitioning the bounding box into equal sized cells such that a portion of the distance field enclosed by each cell can substantially be reconstructed by the method for reconstructing to a predetermined surface representation error; and combing, in a bottom-up manner, groups of neighboring cells into larger cells as long as the portion of the distance field enclosed by the larger cell can substantially be reconstructed to the surface representation error. 56. The method of claim 55 wherein a point based method determines whether to further combine a particular group of cells. 57. The method of claim 55 wherein a cell based method determines whether to further combine a particular group of cells. 58. The method of claim 55 wherein a gradient based method determines whether to further combine a particular group of cells. 59. The method of claim 55 wherein a detail based method determines whether to further combine a particular group of cells. 60. The method of claim 1 wherein the values include signed distances to a surface of an object, and further comprising the steps of: identifying cells intersecting the surface as surface cells; measuring a difference between an attribute of the surface of the object represented by each surface cell and a corresponding attribute of the surface according to the distance field; storing the difference as a surface representation error with each cell; selecting surface cells having surface representation errors less than a predetermined threshold; seeding each selected surface cell with a plurality of points at locations within the cell; minimizing a surface energy by changing the location and number of the points until the rate of change of the surface energy is less than a predetermined energy threshold; and selecting a surface representation to connect the points when the surface energy is a minimum to convert the represented distance field to a surface representation. 61. The method of claim 60 wherein the surface representation uses polygons. 62. The method of claim 60 wherein the surface representation uses parametric patches. 63. The method of claim 60 wherein the surface energy is dependent on distances between neighboring points. 64. The method of claim 60 wherein the surface energy is dependent on distances from the points to the surface. 65. The method of claim 60 wherein during the minimizing the points are constrained to the cell wherein the points were seeded. 66. The method of claim 60 wherein the number of points seeded is proportional to the detail of a portion of the distance field enclosed by a particular cell. 67. The method of claim 1 wherein the values include signed distances to a surface of an object, and further comprising the steps of: identifying cells intersecting the surface as surface cells; measuring a difference between an attribute of the surface of the object represented by each surface cell and a corresponding attribute of the surface according to the distance field; storing the difference as a surface representation error with each cell; selecting surface cells having surface representation errors less than a predetermined threshold; seeding each selected surface cell with a vertex located at the center of each selected cell; linking neighboring vertices to form patches; minimizing a surface energy of the patches by changing the location of the vertices until the rate of change of the surface energy is less than a predetermined energy threshold; reconstructing the distance field at the changed locations of the vertices; computing surface normals to the vertices at the changed locations from gradients of the reconstructed distance field; generating a parametric equation for each patch from the changed locations of the vertices and the normals; determining a difference between a solution of the parametric equation and a portion of the surface represented by corresponding cells; and if the difference is greater than a predetermined fit threshold, then partition the cell into equal sized smaller cells and repeat the selecting, seeding, linking, minimizing, reconstructing, computing, generating, and determining steps until the difference is less than or equal to the predetermined fit threshold to convert the represented distance field to parametric patches. 68. The method of claim 1 wherein the values include signed distances to a surface of an object, and further comprising the steps of: identifying cells intersecting the surface as surface cells; measuring a difference between an attribute of the surface of the object represented by each surface cell and a corresponding attribute of the surface according to the distance field; storing the difference as a surface representation error with each cell; selecting surface cells having surface representation errors less than a predetermined threshold; seeding each selected surface cell with a plurality of nodes; linking neighboring nodes to form a surface net; minimizing a surface energy of the surface net by changing the location of the nodes until the rate of change of the surface energy is less than a predetermined energy threshold; and selecting a surface representation for the surface net when the surface energy is a minimum to convert the represented distance field to a surface representation. 69. The method of claim 1 wherein the values include signed distances to a surface of an object, and further comprising the steps of: identifying cells intersecting the surface as surface cells; measuring a difference between an attribute of the surface of the object represented by each surface cell and a corresponding attribute of the surface according to the distance field; and storing the difference as a surface representation error with each cell; selecting surface cells having surface representation errors less than a predetermined threshold; marking each selected cell with an ambiguity resolution code; generating, for each cell, a plurality of graphical primitives that approximate the surface represented by the cell; examining neighboring graphical primitives having different resolutions to identify gaps between the neighboring graphical primitives; and generating, for each gap, a plurality of additional graphical primitives to fill the gaps. 70. The method of claim 1 wherein the values include signed distances to a surface of an object, and further comprising the steps of: identifying cells intersecting the surface of the object as surface cells; generating rays according to a viewpoint and image plane parameters; traversing the represented distance field with the rays to identify the surface cells having traversing rays; reparameterizing each reconstruction method along the rays traversing the surface cells; determining points where the rays traversing the surface cells intersect the surface; interpolating appearance parameters at the intersection points using the corresponding reconstructing methods; and rendering the object according to the interpolated appearance parameters at the points. 71. The method of claim 70 wherein the determining uses Bezier clipping. 72. The method of claim 70 wherein the determining uses globally convergent Newton-Raphson approximation. 73. The method of claim 70 wherein the determining uses conjugate gradient approximation. 74. The method of claim 1 further comprising the step of: determining a distance field gradient at any point within the bounding box using the reconstructing method of a particular cell containing the point. 75. The method of claim 1 further comprising the step of: determining a partial derivative at any point within the bounding box using the reconstructing method of a particular cell containing the point. 76. The method of claim 1 further comprising the step of: determining a mixed partial derivative at any point within the bounding box using the reconstructing method of a particular cell containing the point. 77. The method of claim 1 wherein the values include signed distances to a surface of an object, and further comprising the steps of: identifying cells intersecting the surface of the object as surface cells; generating rays for a viewpoint and image plane parameters; generating ray sample points for a portion of the rays intersecting the surface cells; and interpolating appearance parameters for each sample point to render the represented distance field. 78. The method of claim 1 wherein the values include signed distances to a surface of an object, and further comprising the steps of: converting the represented distance field to a surface representation; and rendering the surface representation. 79. The method of claim 78 wherein the surface representation uses polygons. 80. The method of claim 78 wherein the surface representation uses parametric patches. 81. The method of claim 78 wherein the surface representation uses a point cloud. 82. The method of claim 1 wherein the values include signed distances to a surface of an object so that the distance field is an object distance field and the bounding box is an object bounding box, and further comprising the steps of: specifying an editing tool having a surface expressed by a tool distance field and an editing operation, the tool distance field enclosed by a tool bounding box having a position and an orientation relative to the object bounding box; intersecting the tool distance field with the object distance field to determine an editing bounding box; reconstructing the object distance field within the editing bounding box by applying the reconstruction methods to the values of the cells of the object distance field enclosed by the editing bounding box; modifying the object distance field enclosed by the editing bounding box according to the position and orientation of the tool distance field, and the editing operation; and generating the detail directed hierarchical representation for the modified object distance field. 83. The method of claim 82 further comprising the steps of: selecting sample points in the object distance field enclosed by the editing bounding box; reconstructing the object distance field at the sample points to produce object distance field values; evaluating the tool distance field at the sample points to produce tool distance field values; and applying the editing operation to the object distance field values and the tool distance field values to produce the edited distance field values at the sample points. 84. The method of claim 82 wherein the editing operation subtracts the tool surface from the object by determining a minimum of the object distance field and a negative of the signed distance to the surface of the tool. 85. The method of claim 82 wherein the tool distance field is expressed by an implicit function. 86. The method of claim 82 further comprising the steps of: partitioning the enclosed tool distance field into a plurality of tool cells, each tool cell having a size corresponding to detail of the tool distance field and a location with respect to the tool bounding box; sampling, for each tool cell, a set of tool values of the tool enclosed distance field; specifying, for each tool cell, a method for reconstructing the tool distance field enclosed by the tool cell; and storing, for each tool cell, the size, the location, the set of tool values, and the method for reconstructing in a memory to enable reconstruction of the tool distance field by applying the reconstruction methods of the tool cells to the tool values. 87. The method of claim 1 wherein a particular value is a signed distance to a surface of a color gamut. 88. The method of claim 1 wherein the values include signed distances to a surface of an object and further comprising the steps of: selecting an arbitrary point in the enclosed distance field; identifying a particular cell enclosing the selected point; evaluating the reconstruction method of the identified cell using the values of the identified cell to determine a smallest distance from the arbitrary point to the surface. 89. The method of claim 88 wherein the arbitrary point is outside the surface when the smallest distance is negative, inside the surface when the distance is positive, and on the surface when the distance is zero. 90. The method of claim 1 further comprising the steps of: selecting an arbitrary point in the enclosed distance field; and locating a closest point on the surface of the object to the arbitrary point. 91. The method of claims 88, 89, and 90 wherein the distance field represents a color gamut. 92. The method of claim 1 wherein the detail of the distance field is determined by a frequency content description of the distance field. 93. A memory storing data accessed by a program executing in a processor, comprising: a data structure stored in the memory, the data structure including information used by the program and the data structure including: a first cell forming a bounding box of a distance field; a plurality of cells, each cell a partitioning of the first cell, the first cell and each of the plurality of cells having an associated size corresponding to detail of the distance field and an associated location with respect to the bounding box; distance field samples associated with the first cell and each of the plurality of cells; and a method for reconstructing a portion of distance field enclosed by the first cell and each of the plurality of cells, the data structure enabling reconstruction of the distance field by applying the methods for reconstructing of the cells to the values. 