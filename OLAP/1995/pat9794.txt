A system for controlling attitude stabilization of a biped mobile robot having a trunk and two legs each connected to the trunk such that it walks on the ground. The system generates a desired walking pattern of the robot in such a manner that ground reaction force moment acting on the robot when the robot's leg comes into contact with the ground is at a desired position and is provided with a first model made up of an inverted pendulum and simulating dynamics of the robot and a second model simulating the mechanical structure of the robot such that the second model is assumed to walk on the ground in accordance with the desired walking pattern. An inclinatory error of the robot's trunk is detected relative to the second model. A manipulated variable is determined in terms of moment in response to the detected inclinatory error and supplying it to the first model such that the inverted pendulum is rotated about its pivot point by an amount corresponding to the manipulated variable. A positional variation of an upper portion of the inverted pendulum (corresponding to the trunk) is detected, resulting from the rotation therefrom, to correct the motion of the second model in response to the detected positional variation. Robot's joints are controlled to follow the motion of the second model, thereby, the robot can move stably over the ground.
Claims What is claimed is: 1. A system for controlling stability of a mobile robot, comprising: model means for providing at least a first mathematical model which describes a behavior of the mobile robot under a restraint condition and which outputs a desired behavior that satisfies dynamic equilibrium of the mobile robot in response to inputs including a virtual input; behavior detecting means for detecting the mobile robot's actual behavior; first control means for inputting outputs from the model as a reference input, and the detected actual behavior of the mobile robot, as a feedback input, and for outputting at least a manipulated variable of the mobile robot such that an error between the reference input and the feedback input decreases; and second control means for inputting at least one of the output from the model, the manipulated variable and the detected actual behavior of the mobile robot, and for outputting the virtual input to the model, to change the model's output such that the mobile robot becomes stable. 2. A system according to claim 1, wherein the virtual input to the model means is indicative of a shift of a ground reaction force and/or moment acting on the mobile robot. 3. A system according to claim 1, further including; at least a second mathematical model describing an ideal behavior of the mobile robot; and second means for calculating an error between the behavior described by the first mathematical model and the ideal behavior described by the second mathematical model; and said second control means additionally determines a value of a manipulated variable in response to the error between the behavior described by the first mathematical model and the ideal behavior described by the second mathematical model and supplies the value of the manipulated variable to at least one of the mathematical models such that the behavior of the mathematical model to which the value of the manipulated variable is supplied is modified in response to the value of the manipulated variable such that the error decreases. 4. A system according to claim 3, wherein said second control means determines a second value of a manipulated variable in response to an error calculated between the behavior described by the first mathematical model and the ideal behavior described by the second mathematical model and supplies the second value to the mobile robot to change the posture of the robot. 5. A system according to claim 4, wherein the mobile robot is a legged mobile robot for walking on the ground, and said first and second mathematical models individually describe the desired behavior of the model robot defined in terms of a desired walking pattern established at least with respect to a ground reaction force and/or moment acting on the robot, and sixth means is provided for detecting the actual ground reaction force and/or moment acting on the mobile robot, and said second control means determines the second value of a manipulated variable with respect to an actual ground reaction force and/or moment in response to the error, and seventh means is provided for changing the posture of the mobile robot to decrease any error between the actual ground reaction force or moment acting on the mobile robot and the second value of a manipulated variable. 6. A system according to claim 5, wherein said second control means modifies the desired behavior such that a position and/or timing at which or when the leg of the mobile robot lands is varied such that the mobile robot's behavior becomes stable. 7. A system according to claim 3, wherein the mobile robot is a legged mobile robot walking on the ground, and the first and second mathematical models individually describe the desired behavior of the model robot defined in terms of a desired walking pattern established at least with respect to ground reaction force and/or moment acting on the mobile robot, and said second control means determines the value of a manipulated variable with respect to the ground reaction force and/or moment in response to the error and supplies it to at least one of the first and second mathematical models such that the behavior of the mathematical model to which the value is supplied is modified such that the error decreases. 8. A system according to claim 1, wherein said second control means determines a second value of a manipulated variable in response to the error and supplies the second value of a manipulated variable to the robot to change the posture of the mobile robot. 9. A system according to claim 8, wherein the mobile robot is a legged mobile robot for walking on the ground, and said first mathematical model describes the desired behavior of the mobile robot defined in terms of a desired walking pattern established at least with respect to ground reaction force and/or moment acting on the mobile robot, and fourth means is provided for detecting an actual ground reaction force and/or moment acting on the robot, said second control means determines the second value of a manipulated variable with respect to a detected actual ground reaction force and/or moment in response to the error, and fifth means is provided for changing the posture of the mobile robot to decrease the error between the detected actual ground reaction force or moment acting on the mobile robot and the second value of a manipulated variable. 10. A system according to claim 9, wherein said second control means modifies the desired behavior such that a position and/or timing at which the mobile robot leg lands is varied such that the robot's behavior becomes stable. 11. A system according to claim 1, further including: third means for detecting an error between a desired ground reaction force and/or moment and the mobile robot's actual force and/or moment; and fourth means for geometrically deforming a posture of the mobile robot described by the first or second mathematical model in response to a detected error between the desired ground reaction force and/or moment and the mobile robot's actual force and/or moment. 12. A system according to claim 1, wherein the mobile robot is a legged mobile robot for walking on the ground, and said first mathematical model describes the desired behavior of the mobile robot defined in terms of a desired walking pattern established at least with respect to ground reaction force and/or moment acting on the mobile robot, and said second control means determines a value of a manipulated variable with respect to the ground reaction force and/or moment and supplies it to the first mathematical model such that the first mathematical model's behavior is modified such that the mobile robot's behavior becomes stable. 13. A system according to claim 1, wherein said constraint condition is determined in such a manner that a portion of the mobile robot has a desired posture changing pattern and said first means detects a deviation from the desired posture changing pattern. 14. A system for controlling stability of a mobile robot, comprising: generating means for generating an ideal behavior of the mobile robot at least with respect to a ground reaction force and/or moment acting on the mobile robot; model means for providing at least a first mathematical model describing relationships between a first deviation of the mobile robot's behavior, and a second deviation of the ground reaction force and/or moment without changing a state variable of the ideal behavior; first means for detecting an error between the state variable of the ideal behavior and the mobile robot's actual behavior; second means for inputting the error and determining a value of a virtual force and/or moment and supplying the value to the first mathematical model such that the error decreases; third means including a geometric model for inputting the ideal behavior and the first deviation and modifying the ideal behavior in response thereto, to output a modified behavior; and control means for controlling an actuator of the mobile robot to follow the modified behavior. 15. A system according to claim 14, wherein the mobile robot is a legged mobile robot, and said first means detects at least an inclination error of the mobile robot as the error. 16. A system according to claim 15, further including: detecting means for detecting a second error between an ideal ground reaction force and/or moment and an actual ground reaction force and/or moment acting on the mobile robot; and modifying means for modifying a posture described by the first mathematical model in response to the detected second error between the ideal ground reaction force and/or moment and the actual ground reaction force and/or moment acting on the mobile robot. 17. A system according to claim 14, wherein said mobile robot is a legged mobile robot and said third means additionally modifies the ideal behavior such that a position or timing at which or when the mobile robot's leg is to land is varied in response to at least one of the first deviation, the second deviation, and the error such that the mobile robot's stability is enhanced. 18. A system according to claim 17, wherein said second means additionally determines a value of a manipulated variable with respect to a ground reaction force and/or moment acting on the mobile robot and supplies the value to the mobile robot such that the mobile robot's stability is enhanced. 19. A system according to claim, 17, further including detecting means for detecting a second error between an ideal ground reaction force and/or moment and an actual ground reaction force and/or moment acting on the mobile robot; and means for modifying a posture described by the first mathematical model in response to the detected second error between the desired ground reaction force and/or moment and the actual ground reaction force and/or moment acting on the mobile robot. 20. A system according to claim 14, wherein said second means additionally determines a value of a manipulated variable with respect to a ground reaction force and/or moment acting on the mobile robot and supplies the value to the mobile robot such that the mobile robot's stability is enhanced. 21. A system according to claim 14, further including fourth means for detecting a second error between an ideal ground reaction force and/or moment acting on the mobile robot and an actual ground reaction force and/or moment acting on the mobile robot; and fifth means for modifying a posture described by the first mathematical model in response to the detected second error between the ideal ground reaction force and/or moment and the the actual ground reaction force and/or moment acting on the mobile robot. 22. A system for controlling attitude stabilization of a legged mobile robot having a trunk and a plurality of legs each connected to the trunk and walking on the ground; comprising; generating means for generating a desired walking pattern of the mobile robot in such a manner that a ground reaction force and/or moment acting on the mobile robot, when the robot's leg comes into contact with the ground, is at least a desired position; a first mathematical model made up of an inverted pendulum having a pivot point and simulating dynamics of the mobile robot; a second mathematical model simulating the trunk and legs of the mobile robot such that the second model is assumed to walk on the ground in accordance with the desired walking pattern; first means for detecting an inclinatory error of the mobile robot relative to the second model; second means for determining a manipulated variable in terms of a moment in response to the detected inclinatory error and supplying the manipulated variable to the first model such that the inverted pendulum of the first model is rotated about its pivot point by an amount corresponding to the manipulated variable; third means for detecting positional variation of an upper portion of the inverted pendulum resulting from the rotation and correcting the motion of the second model in response to a detected positional variation; and control means for controlling joints of the mobile robot such that the mobile robot follows the motion of the second model. 23. A system according to claim 22, further including: fourth means for detecting a positional error between the desired position and an actual position of the ground reaction force or moment; and said third means additionally corrects the motion of the second model in response to the detected positional error. 24. A system according to claim 23, wherein said second means determines a second manipulated variable in terms of the ground reaction force and/or moment and supplies it to the second model such that the mobile robot's attitude stabilization is enhanced. 25. A system according to claim 23, wherein said second means determines the second manipulated variable less than a predetermined limit value. 26. A system according to claim 22, wherein said third means additionally corrects the motion of the second model such that a position at which the mobile robot's leg is to be landed is varied in response to the detected positional variation such that the mobile robot's attitude stabilization is enhanced. 27. A system according to claim 22, wherein said second means determines a second manipulated variable in terms of the ground reaction force and/or moment and supplies it to the second model such that the mobile robot's attitude stabilization is enhanced. 28. A system according to claim 22, wherein said second means determines the manipulated variable less than a predetermined limit value. 29. A system according to claim 22, wherein the first and second models are prepared independently. 30. A system according to claim 22, wherein the first and second models are combined to be a composite model. 31. A system according to claim 30, wherein the said first means detects an inclinatory error of the trunk between the models. 32. A system according to claim 22, wherein the desired walking pattern is defined in terms of positions and orientations of the trunk and distal end of the legs. 33. A system according to claim 22, wherein the mobile robot is a biped robot. 34. A system for controlling stability of a mobile robot comprising: generating means for generating an ideal behavior of the mobile robot at least with respect to an ideal ground reaction force and/or moment acting on the mobile robot; first model means for providing a first mathematical model made up of an inverted pendulum and describing dynamics of a first deviation of the mobile robot's behavior and a second deviation of a ground reaction force and/or moment without changing a state variable of the ideal behavior; second model means for providing a second mathematical model describing kinematics and a posture of the mobile robot such that the second model is assumed to move on the ground; first means for detecting a behavior error between the model robot and the second model; second means for determining a value of a virtual force and/or moment in response to the detected behavior error and supplying the value to the first model such that the inverted pendulum is rotated by an amount corresponding to a determined value of the virtual force and/or moment; third means for changing a posture of the second model in response to a displacement of the inverted pendulum; and control means for controlling an actuator of the mobile robot such that the mobile robot follows the motion of the second model whereby the detected behavior error is decreased. 35. A system according to claim 34, further including: fourth means for detecting an error between the ideal ground reaction force and/or moment and the mobile robot's actual ground reaction force and/or moment; and fifth means for changing the posture of the second model in response to the detected error between the ideal ground reaction force and/or moment and the mobile robot's actual ground reaction force and/or moment. 36. A system according to claim 35, wherein said second means additionally determines a value of a manipulated variable with respect to the ground reaction force and/or moment and supplies it to seventh means, and said seventh means detects a difference between the value of a manipulated variable and the mobile robot's actual ground reaction force and/or moment, and said seventh means changes the posture of the second model in response to the detected difference such that the mobile robot's stability is enhanced. 37. A system according to claim 36, wherein said second means determines the value of a manipulated variable within a predetermined limit value. 38. A system according to claim 36, wherein eighth means is provided for adding the value of a manipulated variable to an ideal ground reaction force and/or moment to modify the ground reaction force and/or moment and to obtain a difference between the modified ground reaction force and/or moment and the mobile robot's actual ground reaction force and/or moment. 39. A system according to claim 34, wherein said mobile robot is a legged mobile robot and sixth means is provided for modifying the ideal behavior such that a position or timing at which or when the mobile robot's leg is to be landed is varied in response to at least one of the displacement of the pendulum, the error between the ideal ground reaction force and/or moment, and the detected behavior error between the mobile robot and the second model such that the mobile robot's stability is enhanced. 40. A system according to claim 34, wherein the first and second models are prepared independently. 41. A system according to claim 34, wherein the first and second models are combined to be a composite model. 42. A system according to claim 34, wherein said first means detects an inclination error of the trunk between the robot and the second model. 43. A system according to claim 34, wherein said mobile robot is a legged mobile robot and the desired behavior is a desired walking pattern defined in terms of positions and orientations of the trunk and distal ends of the legs. 44. A system according to claim 34, wherein the mobile robot is a biped robot. 45. A system according to claim 36, wherein said third means modifies the desired behavior such that a position and/or timing at which or when the leg of the mobile robot lands is varied such that the mobile robot's behavior becomes stable. 