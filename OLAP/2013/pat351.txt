In a first exemplary embodiment of the present invention, an automated, computerized method is provided for processing an image. According to a feature of the present invention, the method comprises the steps of providing an image file depicting an image in an array of pixels, in a computer memory, performing a tone mapping method on the image, performing a log chromaticity method on the image and calculating a color value for each pixel as a function of information relevant to the tone mapping method and the log chromaticity method.
Claims What is claimed is: 1. An automated, computerized method for processing an image, comprising the steps of: providing an image file depicting an image in an array of pixels, in a computer memory; performing a tone mapping method on the image; performing a log chromaticity method on the image; and calculating a color value for each pixel as a function of information relevant to the tone mapping method and the log chromaticity method, such that the function constrains the color value for each pixel to the requirements of each of the tone mapping method and the log chromaticity method. 2. The method of claim 1 wherein the tone mapping method is modified to eliminate the effects of illumination. 3. The method of claim 1 wherein the information relevant to the tone mapping method and the log chromaticity method includes a value for a normal N to a log chromaticity plane. 4. The method of claim 1 wherein the information relevant to the tone mapping method and the log chromaticity method includes a value for each pixel specifying a tone mapping intensity V. 5. The method of claim 1 comprising the further step of quantizing the information relevant to the tone mapping method and the log chromaticity method. 6. The method of claim 1 comprising the further step of utilizing the color value for each pixel to generate a material intrinsic image. 7. The method of claim 6 comprising the further step of utilizing the material intrinsic image to generate an illumination intrinsic image. 8. The method of claim 6 comprising the further step of performing monotonicity maintenance on the material intrinsic image. 9. The method of claim 7 comprising the further step of passing the illumination intrinsic image through a bilateral blurring filter, and regenerating the material intrinsic image as a function of the blurred illumination intrinsic image. 10. A computer system which comprises: a CPU; and a memory storing an image file containing an image in an array of pixels; the CPU arranged and configured to execute a routine to perform a tone mapping method on the image, perform a log chromaticity method on the image, and calculate a color value for each pixel as a function of information relevant to the tone mapping method and the log chromaticity method, such that the function constrains the color value for each pixel to the requirements of each of the tone mapping method and the log chromaticity method. 11. A non-transitory computer readable medium storing a program including computer executable process steps operable to control a computer to: provide an image in an array of pixels, perform a tone mapping method on the image, perform a log chromaticity method on the image, and calculate a color value for each pixel as a function of information relevant to the tone mapping method and the log chromaticity method, such that the function constrains the color value for each pixel to the requirements of each of the tone mapping method and the log chromaticity method. 12. The computer program product of claim 11 wherein the tone mapping method is modified to eliminate the effects of illumination. 13. The computer program product of claim 11 wherein the information relevant to the tone mapping method and the log chromaticity method includes a value for a normal N to a log chromaticity plane. 14. The computer program product of claim 11 wherein the information relevant to the tone mapping method and the log chromaticity method includes a value for each pixel specifying a tone mapping intensity V. 15. The computer program product of claim 11 wherein the product includes the further process step to control a computer to quantize the information relevant to the tone mapping method and the log chromaticity method. 16. The computer program product of claim 11 wherein the product includes the further process step to control a computer to utilize the color value for each pixel to generate a material intrinsic image. 17. The computer program product of claim 16 wherein the product includes the further process step to control a computer to utilize the material intrinsic image to generate an illumination intrinsic image. 18. The computer program product of claim 11 wherein the product includes the further process step to control a computer to perform monotonicity maintenance on the material intrinsic image. 19. The computer program product of claim 17 wherein the product includes the further process steps to control a computer to pass the illumination intrinsic image through a bilateral blurring filter, and regenerate the material intrinsic image as a function of the blurred illumination intrinsic image. 20. An automated, computerized method for processing an image, comprising the steps of: receiving an intrinsic material image of the image; identifying regions in the image defining a color boundary; identifying in the image a region between the color boundary regions, the between region defining a color transition; determining color transition information for the between region, the color transition information comprising a fractional distance along a color line, in a color space, the color line extending between the colors of the regions defining a color boundary; and re-coloring a corresponding between region of the material image, as a function of the color transition information, to be a color at the same fractional distance along the color line as for the image to correct distorted monotonic linear transitions in the intrinsic material image. 21. The method of claim 20, comprising the further step of recalculating an illumination image as a function of the re-colored material image. 22. A non-transitory computer readable medium storing a program including computer executable process steps operable to control a computer to: receive an intrinsic material image of an image, identify regions in the image defining a color boundary, identify in the image a region between the color boundary regions, the between region defining a color transition, determine color transition information for the between region, the color transition information comprising a fractional distance along a color line, in a color space, the color line extending between the colors of the regions defining a color boundary and re-color a corresponding between region of the material image, as a function of the color transition information, to be a color at the same fractional distance along the color line as for the image to correct distorted monotonic linear transitions in the intrinsic material image. 23. The computer program product of claim 22 wherein the product includes the further process step to control a computer to recalculate an illumination image as a function of the re-colored material image. 