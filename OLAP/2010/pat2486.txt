An apparatus and method for filling vials comprises a shelving unit defining an array of storage locations. The shelving unit may be an array in an XY plane or one or more carousels. A plurality of storage containers are provided, each removably carried by one of the storage locations. A counting and dispensing unit, a source of vials, a label printer and application unit or units, and an output device are also provided. A computer controlled engagement device provides motion in a Z direction. The engagement device may be comprised of a first stage for engaging the storage containers and a second stage for engaging the vials. A computer controlled system carries the engagement device and moves the engagement device in XY directions among the plurality of storage locations, counting and dispensing unit, source of vials, label printer and application unit, and output device.
Claims That which is claimed: 1. A method of transporting vials and cassettes in an automated prescription filling apparatus, comprising: moving cassettes using one stage of an engagement device, said one stage configured to pick the cassettes; and moving vials using another stage of the engagement device, said other stage configured to pick the vials, wherein said moving using one stage of an engagement device and said moving using another stage of the engagement device includes moving said stages of said engagement device together in XY directions and independently in a Z direction. 2. The method of claim 1, wherein said moving of cassettes includes passively gripping the cassette and wherein said moving a vial includes actively gripping the vial. 3. The method of claim 1, wherein moving cassettes includes moving cassettes between an array of storage locations and a counter and dispenser; and wherein said moving vials includes moving a vial among a vial store, a label printer and applier, a counter and dispenser, and an output location. 4. The method of claim 3, wherein said moving a vial to an output location includes selecting an output location based on an order grouping criterion. 