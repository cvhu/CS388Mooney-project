A virtual soft tissue control system that provides enhanced motion control to a prosthetic simulator machine. The control system advantageously adds a "virtual soft tissue" control scheme to a conventional control system, such as a digital proportional integral derivative (PID) controller, to algorithmically model the soft tissue constraints that would be encountered by the prosthesis within the human body, and account for these forces in driving the simulator. In another aspect, a prosthetic simulator comprises a prosthetic drive mechanism; a feedback control system that drives the prosthetic drive mechanism; and an iterative learning control system that determines an error from a previous iteration of motion of the drive mechanism and uses the error to determine a drive signal for a subsequent iteration of motion. In certain embodiments, the prosthetic simulator uses both a soft tissue model and an iterative learning control system.
Claims What is claimed is: 1. A simulator for an implantable prosthetic element, comprising a prosthetic drive mechanism that drives the implantable prosthetic element; a sensor that measures a force or torque applied to the implantable prosthetic element from the drive mechanism; and a control system responsive to the sensor and to a simulation input, the control system including a soft tissue model that accounts for soft tissue constraint and adjusts the drive provided by the drive mechanism in a repetitive programmed manner, the control system determining an error from a previous iteration of motion of the drive mechanism and including an accumulator that accumulates the error, the control system using the accumulated error to determine a drive signal applied in a subsequent iteration of motion of the drive mechanism. 2. The simulator of claim 1, wherein the soft tissue model comprises an algorithmic model of the soft tissue constraints imposed on the prosthetic element when implanted in a human or animal body. 3. The simulator of claim 1, further comprising a second sensor for measuring at least one of a position or orientation of the prosthetic element, the control system being responsive to the second sensor. 4. The simulator of claim 3, wherein the control system modifies the simulation input to account for soft tissue action based on a measurement of the second sensor. 5. The simulator of claim 3, wherein the control system comprises a nested loop design. 6. The simulator of claim 5, wherein an inner loop of the nested loop design comprises a proportional integral derivative (PID) controller that drives the drive mechanism based on the simulation input and feedback from the sensor for measuring the force or torque applied to the prosthetic element. 7. The simulator of claim 6, wherein an outer loop of the nested loop design comprises a virtual soft tissue controller that modifies the simulation input based on feedback from the second sensor and an algorithmic model of the soft tissue constraints. 8. The simulator of claim 3 wherein the second sensor is arranged to measure plural positions and plural orientations of the prosthetic element. 9. The simulator of claim 1, wherein the drive mechanism comprises a mechanical actuator. 10. The simulator of claim 1, wherein the simulation input comprises a waveform representing force or torque produced by active musculature forces of a human or animal representing physiological functions. 11. The simulator of claim 1, wherein the prosthetic element comprises a prosthetic knee. 12. The simulator of claim 1, wherein the prosthetic element comprises a prosthetic hip. 13. The simulator of claim 1, wherein the prosthetic element comprises at least one of a shoulder, elbow, spine, ankle, heart, and heart valve. 14. The simulator of claim 1 wherein the sensor is further configured to measure contact force and position, and the controller configured to calculate the soft tissue constraint from the measured position and adjust an active force with the calculated soft tissue constraint. 15. The simulator of claim 1 wherein the simulated input is software generated. 16. The simulator of claim 1 wherein the drive mechanism provides a repetitive force or torque to the prosthetic element. 17. A method for controlling a simulator for an implantable prosthetic element, comprising: measuring force or torque applied to the implantable prosthetic element; measuring at least one of position or orientation of the implantable prosthetic element; driving implantable prosthetic element, in a repetitive programmed manner based on the measured torque or force, the measured position or orientation of the implantable prosthetic element, and an algorithmic model of soft tissue constraints, using an error in the measured force or torque, determined as a function of a difference between a simulation input and a sum of the measured force or torque and a force or torque determined based on the soft tissue constraints, to determine a drive signal for a subsequent iteration of the repetitive motion of the prosthetic element. 